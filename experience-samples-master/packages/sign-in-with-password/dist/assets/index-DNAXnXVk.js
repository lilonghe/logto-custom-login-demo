(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var N;(function(t){t.Json="application/json",t.FormData="multipart/form-data",t.UrlEncoded="application/x-www-form-urlencoded",t.Text="text/plain"})(N||(N={}));class ro{constructor(e={}){this.baseUrl="https://[tenant_id].logto.app/",this.securityData=null,this.abortControllers=new Map,this.customFetch=(...n)=>fetch(...n),this.baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"},this.setSecurityData=n=>{this.securityData=n},this.contentFormatters={[N.Json]:n=>n!==null&&(typeof n=="object"||typeof n=="string")?JSON.stringify(n):n,[N.Text]:n=>n!==null&&typeof n!="string"?JSON.stringify(n):n,[N.FormData]:n=>Object.keys(n||{}).reduce((i,r)=>{const s=n[r];return i.append(r,s instanceof Blob?s:typeof s=="object"&&s!==null?JSON.stringify(s):`${s}`),i},new FormData),[N.UrlEncoded]:n=>this.toQueryString(n)},this.createAbortSignal=n=>{if(this.abortControllers.has(n)){const r=this.abortControllers.get(n);return r?r.signal:void 0}const i=new AbortController;return this.abortControllers.set(n,i),i.signal},this.abortRequest=n=>{const i=this.abortControllers.get(n);i&&(i.abort(),this.abortControllers.delete(n))},this.request=async({body:n,secure:i,path:r,type:s,query:o,format:d,baseUrl:c,cancelToken:l,...u})=>{const f=(typeof i=="boolean"?i:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},p=this.mergeRequestParams(u,f),m=o&&this.toQueryString(o),g=this.contentFormatters[s||N.Json],b=d||p.format;return this.customFetch(`${c||this.baseUrl||""}${r}${m?`?${m}`:""}`,{...p,headers:{...p.headers||{},...s&&s!==N.FormData?{"Content-Type":s}:{}},signal:(l?this.createAbortSignal(l):p.signal)||null,body:typeof n>"u"||n===null?null:g(n)}).then(async w=>{const G=w.clone();G.data=null,G.error=null;const H=b?await w[b]().then(Y=>(G.ok?G.data=Y:G.error=Y,G)).catch(Y=>(G.error=Y,G)):G;if(l&&this.abortControllers.delete(l),!w.ok)throw H;return H.data})},Object.assign(this,e)}encodeQueryParam(e,n){return`${encodeURIComponent(e)}=${encodeURIComponent(typeof n=="number"?n:`${n}`)}`}addQueryParam(e,n){return this.encodeQueryParam(n,e[n])}addArrayQueryParam(e,n){return e[n].map(r=>this.encodeQueryParam(n,r)).join("&")}toQueryString(e){const n=e||{};return Object.keys(n).filter(r=>typeof n[r]<"u").map(r=>Array.isArray(n[r])?this.addArrayQueryParam(n,r):this.addQueryParam(n,r)).join("&")}addQueryParams(e){const n=this.toQueryString(e);return n?`?${n}`:""}mergeRequestParams(e,n){return{...this.baseApiParams,...e,...n||{},headers:{...this.baseApiParams.headers||{},...e.headers||{},...n&&n.headers||{}}}}}class io extends ro{constructor(){super(...arguments),this.experience={initInteraction:(e,n={})=>this.request({path:"/api/experience",method:"PUT",body:e,type:N.Json,...n}),updateInteractionEvent:(e,n={})=>this.request({path:"/api/experience/interaction-event",method:"PUT",body:e,type:N.Json,...n}),identifyUser:(e,n={})=>this.request({path:"/api/experience/identification",method:"POST",body:e,type:N.Json,format:"json",...n}),submitInteraction:(e={})=>this.request({path:"/api/experience/submit",method:"POST",format:"json",...e}),getInteraction:(e={})=>this.request({path:"/api/experience/interaction",method:"GET",format:"json",...e}),createPasswordVerification:(e,n={})=>this.request({path:"/api/experience/verification/password",method:"POST",body:e,type:N.Json,format:"json",...n}),createAndSendVerificationCode:(e,n={})=>this.request({path:"/api/experience/verification/verification-code",method:"POST",body:e,type:N.Json,format:"json",...n}),verifyVerificationCodeVerification:(e,n={})=>this.request({path:"/api/experience/verification/verification-code/verify",method:"POST",body:e,type:N.Json,format:"json",...n}),createAndSendMfaVerificationCode:(e,n={})=>this.request({path:"/api/experience/verification/mfa-verification-code",method:"POST",body:e,type:N.Json,format:"json",...n}),verifyMfaVerificationCode:(e,n={})=>this.request({path:"/api/experience/verification/mfa-verification-code/verify",method:"POST",body:e,type:N.Json,format:"json",...n}),createSocialVerification:(e,n,i={})=>this.request({path:`/api/experience/verification/social/${e}/authorization-uri`,method:"POST",body:n,type:N.Json,format:"json",...i}),verifySocialVerification:(e,n,i={})=>this.request({path:`/api/experience/verification/social/${e}/verify`,method:"POST",body:n,type:N.Json,format:"json",...i}),createEnterpriseSsoVerification:(e,n,i={})=>this.request({path:`/api/experience/verification/sso/${e}/authorization-uri`,method:"POST",body:n,type:N.Json,format:"json",...i}),verifyEnterpriseSsoVerification:(e,n,i={})=>this.request({path:`/api/experience/verification/sso/${e}/verify`,method:"POST",body:n,type:N.Json,format:"json",...i}),createTotpSecret:(e={})=>this.request({path:"/api/experience/verification/totp/secret",method:"POST",format:"json",...e}),verifyTotpVerification:(e,n={})=>this.request({path:"/api/experience/verification/totp/verify",method:"POST",body:e,type:N.Json,format:"json",...n}),createWebAuthnRegistrationVerification:(e={})=>this.request({path:"/api/experience/verification/web-authn/registration",method:"POST",format:"json",...e}),verifyWebAuthnRegistrationVerification:(e,n={})=>this.request({path:"/api/experience/verification/web-authn/registration/verify",method:"POST",body:e,type:N.Json,format:"json",...n}),createWebAuthnAuthenticationVerification:(e={})=>this.request({path:"/api/experience/verification/web-authn/authentication",method:"POST",format:"json",...e}),verifyWebAuthnAuthenticationVerification:(e,n={})=>this.request({path:"/api/experience/verification/web-authn/authentication/verify",method:"POST",body:e,type:N.Json,format:"json",...n}),generateBackupCodes:(e={})=>this.request({path:"/api/experience/verification/backup-code/generate",method:"POST",format:"json",...e}),verifyBackupCode:(e,n={})=>this.request({path:"/api/experience/verification/backup-code/verify",method:"POST",body:e,type:N.Json,format:"json",...n}),createNewPasswordIdentityVerification:(e,n={})=>this.request({path:"/api/experience/verification/new-password-identity",method:"POST",body:e,type:N.Json,format:"json",...n}),verifyOneTimeTokenVerification:(e,n={})=>this.request({path:"/api/experience/verification/one-time-token/verify",method:"POST",body:e,type:N.Json,format:"json",...n}),addUserProfile:(e,n={})=>this.request({path:"/api/experience/profile",method:"POST",body:e,type:N.Json,...n}),resetUserPassword:(e,n={})=>this.request({path:"/api/experience/profile/password",method:"PUT",body:e,type:N.Json,...n}),skipMfaBindingFlow:(e={})=>this.request({path:"/api/experience/profile/mfa/mfa-skipped",method:"POST",...e}),skipMfaSuggestion:(e={})=>this.request({path:"/api/experience/profile/mfa/mfa-suggestion-skipped",method:"POST",...e}),bindMfaVerification:(e,n={})=>this.request({path:"/api/experience/profile/mfa",method:"POST",body:e,type:N.Json,...n}),getEnabledSsoConnectors:(e,n={})=>this.request({path:"/api/experience/sso-connectors",method:"GET",query:e,format:"json",...n})}}}const Ka=t=>{const e=document.querySelector(".submit-button");t?(e==null||e.setAttribute("disabled","disabled"),e==null||e.classList.add("loading")):(e==null||e.removeAttribute("disabled"),e==null||e.classList.remove("loading"))},so=t=>{const e=document.querySelector(".error-message");e&&(e.classList.remove("hidden"),e.innerHTML=t instanceof Error?t.message:"Error occurred. Please check debugger console for details."),console.error(t)},oo=()=>{const t=document.querySelector(".error-message");t&&(t.innerHTML="",t.classList.add("hidden"))};var Z;(function(t){t.assertEqual=r=>r;function e(r){}t.assertIs=e;function n(r){throw new Error}t.assertNever=n,t.arrayToEnum=r=>{const s={};for(const o of r)s[o]=o;return s},t.getValidEnumValues=r=>{const s=t.objectKeys(r).filter(d=>typeof r[r[d]]!="number"),o={};for(const d of s)o[d]=r[d];return t.objectValues(o)},t.objectValues=r=>t.objectKeys(r).map(function(s){return r[s]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const s=[];for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&s.push(o);return s},t.find=(r,s)=>{for(const o of r)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function i(r,s=" | "){return r.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=i,t.jsonStringifyReplacer=(r,s)=>typeof s=="bigint"?s.toString():s})(Z||(Z={}));var Kn;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Kn||(Kn={}));const k=Z.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),he=t=>{switch(typeof t){case"undefined":return k.undefined;case"string":return k.string;case"number":return isNaN(t)?k.nan:k.number;case"boolean":return k.boolean;case"function":return k.function;case"bigint":return k.bigint;case"symbol":return k.symbol;case"object":return Array.isArray(t)?k.array:t===null?k.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?k.promise:typeof Map<"u"&&t instanceof Map?k.map:typeof Set<"u"&&t instanceof Set?k.set:typeof Date<"u"&&t instanceof Date?k.date:k.object;default:return k.unknown}},y=Z.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),co=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");let ne=class Zi extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},i={_errors:[]},r=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(r);else if(o.code==="invalid_return_type")r(o.returnTypeError);else if(o.code==="invalid_arguments")r(o.argumentsError);else if(o.path.length===0)i._errors.push(n(o));else{let d=i,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(d[l]=d[l]||{_errors:[]},d[l]._errors.push(n(o))):d[l]=d[l]||{_errors:[]},d=d[l],c++}}};return r(this),i}static assert(e){if(!(e instanceof Zi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Z.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},i=[];for(const r of this.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(e(r))):i.push(e(r));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}};ne.create=t=>new ne(t);const qe=(t,e)=>{let n;switch(t.code){case y.invalid_type:t.received===k.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case y.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Z.jsonStringifyReplacer)}`;break;case y.unrecognized_keys:n=`Unrecognized key(s) in object: ${Z.joinValues(t.keys,", ")}`;break;case y.invalid_union:n="Invalid input";break;case y.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Z.joinValues(t.options)}`;break;case y.invalid_enum_value:n=`Invalid enum value. Expected ${Z.joinValues(t.options)}, received '${t.received}'`;break;case y.invalid_arguments:n="Invalid function arguments";break;case y.invalid_return_type:n="Invalid function return type";break;case y.invalid_date:n="Invalid date";break;case y.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Z.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case y.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case y.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case y.custom:n="Invalid input";break;case y.invalid_intersection_types:n="Intersection results could not be merged";break;case y.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case y.not_finite:n="Number must be finite";break;default:n=e.defaultError,Z.assertNever(t)}return{message:n}};let Pi=qe;function lo(t){Pi=t}function Yt(){return Pi}const Qt=t=>{const{data:e,path:n,errorMaps:i,issueData:r}=t,s=[...n,...r.path||[]],o={...r,path:s};if(r.message!==void 0)return{...r,path:s,message:r.message};let d="";const c=i.filter(l=>!!l).slice().reverse();for(const l of c)d=l(o,{data:e,defaultError:d}).message;return{...r,path:s,message:d}},uo=[];function _(t,e){const n=Yt(),i=Qt({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===qe?void 0:qe].filter(r=>!!r)});t.common.issues.push(i)}let K=class Ni{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const i=[];for(const r of n){if(r.status==="aborted")return O;r.status==="dirty"&&e.dirty(),i.push(r.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,n){const i=[];for(const r of n){const s=await r.key,o=await r.value;i.push({key:s,value:o})}return Ni.mergeObjectSync(e,i)}static mergeObjectSync(e,n){const i={};for(const r of n){const{key:s,value:o}=r;if(s.status==="aborted"||o.status==="aborted")return O;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||r.alwaysSet)&&(i[s.value]=o.value)}return{status:e.value,value:i}}};const O=Object.freeze({status:"aborted"}),Ne=t=>({status:"dirty",value:t}),F=t=>({status:"valid",value:t}),Wn=t=>t.status==="aborted",Jn=t=>t.status==="dirty",Oe=t=>t.status==="valid",pt=t=>typeof Promise<"u"&&t instanceof Promise;function Xt(t,e,n,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Mi(t,e,n,i,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var j;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(j||(j={}));var rt,it;let de=class{constructor(e,n,i,r){this._cachedPath=[],this.parent=e,this.data=n,this._path=i,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};const Wa=(t,e)=>{if(Oe(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ne(t.common.issues);return this._error=n,this._error}}};function z(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:i,description:r}=t;if(e&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(o,d)=>{var c,l;const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??d.defaultError}:typeof d.data>"u"?{message:(c=u??i)!==null&&c!==void 0?c:d.defaultError}:o.code!=="invalid_type"?{message:d.defaultError}:{message:(l=u??n)!==null&&l!==void 0?l:d.defaultError}},description:r}}let R=class{get description(){return this._def.description}_getType(e){return he(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:he(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new K,ctx:{common:e.parent.common,data:e.data,parsedType:he(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(pt(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const i=this.safeParse(e,n);if(i.success)return i.data;throw i.error}safeParse(e,n){var i;const r={common:{issues:[],async:(i=n==null?void 0:n.async)!==null&&i!==void 0?i:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:he(e)},s=this._parseSync({data:e,path:r.path,parent:r});return Wa(r,s)}"~validate"(e){var n,i;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:he(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:r});return Oe(s)?{value:s.value}:{issues:r.common.issues}}catch(s){!((i=(n=s==null?void 0:s.message)===null||n===void 0?void 0:n.toLowerCase())===null||i===void 0)&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(s=>Oe(s)?{value:s.value}:{issues:r.common.issues})}async parseAsync(e,n){const i=await this.safeParseAsync(e,n);if(i.success)return i.data;throw i.error}async safeParseAsync(e,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:he(e)},r=this._parse({data:e,path:i.path,parent:i}),s=await(pt(r)?r:Promise.resolve(r));return Wa(i,s)}refine(e,n){const i=r=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(r):n;return this._refinement((r,s)=>{const o=e(r),d=()=>s.addIssue({code:y.custom,...i(r)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(d(),!1)):o?!0:(d(),!1)})}refinement(e,n){return this._refinement((i,r)=>e(i)?!0:(r.addIssue(typeof n=="function"?n(i,r):n),!1))}_refinement(e){return new re({schema:this,typeName:T.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return se.create(this,this._def)}nullable(){return xe.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ce.create(this)}promise(){return Ke.create(this,this._def)}or(e){return bt.create([this,e],this._def)}and(e){return _t.create(this,e,this._def)}transform(e){return new re({...z(this._def),schema:this,typeName:T.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new wt({...z(this._def),innerType:this,defaultValue:n,typeName:T.ZodDefault})}brand(){return new Ca({typeName:T.ZodBranded,type:this,...z(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new jt({...z(this._def),innerType:this,catchValue:n,typeName:T.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return za.create(this,e)}readonly(){return St.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const po=/^c[^\s-]{8,}$/i,mo=/^[0-9a-z]+$/,fo=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ho=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,go=/^[a-z0-9_-]{21}$/i,yo=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,vo=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,bo=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_o="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let $n;const xo=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ko=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Io=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,wo=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,jo=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,So=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Gi="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",To=new RegExp(`^${Gi}$`);function Di(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Ao(t){return new RegExp(`^${Di(t)}$`)}function Ui(t){let e=`${Gi}T${Di(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Oo(t,e){return!!((e==="v4"||!e)&&xo.test(t)||(e==="v6"||!e)&&Io.test(t))}function Co(t,e){if(!yo.test(t))return!1;try{const[n]=t.split("."),i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),r=JSON.parse(atob(i));return!(typeof r!="object"||r===null||!r.typ||!r.alg||e&&r.alg!==e)}catch{return!1}}function zo(t,e){return!!((e==="v4"||!e)&&ko.test(t)||(e==="v6"||!e)&&wo.test(t))}let Fe=class st extends R{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==k.string){const s=this._getOrReturnCtx(e);return _(s,{code:y.invalid_type,expected:k.string,received:s.parsedType}),O}const i=new K;let r;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(r=this._getOrReturnCtx(e,r),_(r,{code:y.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="max")e.data.length>s.value&&(r=this._getOrReturnCtx(e,r),_(r,{code:y.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,d=e.data.length<s.value;(o||d)&&(r=this._getOrReturnCtx(e,r),o?_(r,{code:y.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):d&&_(r,{code:y.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),i.dirty())}else if(s.kind==="email")bo.test(e.data)||(r=this._getOrReturnCtx(e,r),_(r,{validation:"email",code:y.invalid_string,message:s.message}),i.dirty());else if(s.kind==="emoji")$n||($n=new RegExp(_o,"u")),$n.test(e.data)||(r=this._getOrReturnCtx(e,r),_(r,{validation:"emoji",code:y.invalid_string,message:s.message}),i.dirty());else if(s.kind==="uuid")ho.test(e.data)||(r=this._getOrReturnCtx(e,r),_(r,{validation:"uuid",code:y.invalid_string,message:s.message}),i.dirty());else if(s.kind==="nanoid")go.test(e.data)||(r=this._getOrReturnCtx(e,r),_(r,{validation:"nanoid",code:y.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid")po.test(e.data)||(r=this._getOrReturnCtx(e,r),_(r,{validation:"cuid",code:y.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid2")mo.test(e.data)||(r=this._getOrReturnCtx(e,r),_(r,{validation:"cuid2",code:y.invalid_string,message:s.message}),i.dirty());else if(s.kind==="ulid")fo.test(e.data)||(r=this._getOrReturnCtx(e,r),_(r,{validation:"ulid",code:y.invalid_string,message:s.message}),i.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),_(r,{validation:"url",code:y.invalid_string,message:s.message}),i.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),_(r,{validation:"regex",code:y.invalid_string,message:s.message}),i.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(r=this._getOrReturnCtx(e,r),_(r,{code:y.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),i.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(r=this._getOrReturnCtx(e,r),_(r,{code:y.invalid_string,validation:{startsWith:s.value},message:s.message}),i.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(r=this._getOrReturnCtx(e,r),_(r,{code:y.invalid_string,validation:{endsWith:s.value},message:s.message}),i.dirty()):s.kind==="datetime"?Ui(s).test(e.data)||(r=this._getOrReturnCtx(e,r),_(r,{code:y.invalid_string,validation:"datetime",message:s.message}),i.dirty()):s.kind==="date"?To.test(e.data)||(r=this._getOrReturnCtx(e,r),_(r,{code:y.invalid_string,validation:"date",message:s.message}),i.dirty()):s.kind==="time"?Ao(s).test(e.data)||(r=this._getOrReturnCtx(e,r),_(r,{code:y.invalid_string,validation:"time",message:s.message}),i.dirty()):s.kind==="duration"?vo.test(e.data)||(r=this._getOrReturnCtx(e,r),_(r,{validation:"duration",code:y.invalid_string,message:s.message}),i.dirty()):s.kind==="ip"?Oo(e.data,s.version)||(r=this._getOrReturnCtx(e,r),_(r,{validation:"ip",code:y.invalid_string,message:s.message}),i.dirty()):s.kind==="jwt"?Co(e.data,s.alg)||(r=this._getOrReturnCtx(e,r),_(r,{validation:"jwt",code:y.invalid_string,message:s.message}),i.dirty()):s.kind==="cidr"?zo(e.data,s.version)||(r=this._getOrReturnCtx(e,r),_(r,{validation:"cidr",code:y.invalid_string,message:s.message}),i.dirty()):s.kind==="base64"?jo.test(e.data)||(r=this._getOrReturnCtx(e,r),_(r,{validation:"base64",code:y.invalid_string,message:s.message}),i.dirty()):s.kind==="base64url"?So.test(e.data)||(r=this._getOrReturnCtx(e,r),_(r,{validation:"base64url",code:y.invalid_string,message:s.message}),i.dirty()):Z.assertNever(s);return{status:i.value,value:e.data}}_regex(e,n,i){return this.refinement(r=>e.test(r),{validation:n,code:y.invalid_string,...j.errToObj(i)})}_addCheck(e){return new st({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...j.errToObj(e)})}url(e){return this._addCheck({kind:"url",...j.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...j.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...j.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...j.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...j.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...j.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...j.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...j.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...j.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...j.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...j.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...j.errToObj(e)})}datetime(e){var n,i;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(i=e==null?void 0:e.local)!==null&&i!==void 0?i:!1,...j.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...j.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...j.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...j.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...j.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...j.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...j.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...j.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...j.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...j.errToObj(n)})}nonempty(e){return this.min(1,j.errToObj(e))}trim(){return new st({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new st({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new st({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}};Fe.create=t=>{var e;return new Fe({checks:[],typeName:T.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...z(t)})};function Eo(t,e){const n=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,r=n>i?n:i,s=parseInt(t.toFixed(r).replace(".","")),o=parseInt(e.toFixed(r).replace(".",""));return s%o/Math.pow(10,r)}let mt=class Hn extends R{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==k.number){const s=this._getOrReturnCtx(e);return _(s,{code:y.invalid_type,expected:k.number,received:s.parsedType}),O}let i;const r=new K;for(const s of this._def.checks)s.kind==="int"?Z.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),_(i,{code:y.invalid_type,expected:"integer",received:"float",message:s.message}),r.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),_(i,{code:y.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),_(i,{code:y.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="multipleOf"?Eo(e.data,s.value)!==0&&(i=this._getOrReturnCtx(e,i),_(i,{code:y.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),_(i,{code:y.not_finite,message:s.message}),r.dirty()):Z.assertNever(s);return{status:r.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,j.toString(n))}gt(e,n){return this.setLimit("min",e,!1,j.toString(n))}lte(e,n){return this.setLimit("max",e,!0,j.toString(n))}lt(e,n){return this.setLimit("max",e,!1,j.toString(n))}setLimit(e,n,i,r){return new Hn({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:j.toString(r)}]})}_addCheck(e){return new Hn({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:j.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:j.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:j.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:j.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:j.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:j.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:j.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:j.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:j.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Z.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(n)&&Number.isFinite(e)}};mt.create=t=>new mt({checks:[],typeName:T.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...z(t)});let ft=class Yn extends R{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==k.bigint)return this._getInvalidInput(e);let i;const r=new K;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),_(i,{code:y.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),_(i,{code:y.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),_(i,{code:y.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):Z.assertNever(s);return{status:r.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return _(n,{code:y.invalid_type,expected:k.bigint,received:n.parsedType}),O}gte(e,n){return this.setLimit("min",e,!0,j.toString(n))}gt(e,n){return this.setLimit("min",e,!1,j.toString(n))}lte(e,n){return this.setLimit("max",e,!0,j.toString(n))}lt(e,n){return this.setLimit("max",e,!1,j.toString(n))}setLimit(e,n,i,r){return new Yn({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:j.toString(r)}]})}_addCheck(e){return new Yn({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:j.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:j.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:j.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:j.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:j.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}};ft.create=t=>{var e;return new ft({checks:[],typeName:T.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...z(t)})};let ht=class extends R{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==k.boolean){const i=this._getOrReturnCtx(e);return _(i,{code:y.invalid_type,expected:k.boolean,received:i.parsedType}),O}return F(e.data)}};ht.create=t=>new ht({typeName:T.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...z(t)});let gt=class Li extends R{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==k.date){const s=this._getOrReturnCtx(e);return _(s,{code:y.invalid_type,expected:k.date,received:s.parsedType}),O}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return _(s,{code:y.invalid_date}),O}const i=new K;let r;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(r=this._getOrReturnCtx(e,r),_(r,{code:y.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),i.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(r=this._getOrReturnCtx(e,r),_(r,{code:y.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),i.dirty()):Z.assertNever(s);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Li({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:j.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:j.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}};gt.create=t=>new gt({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:T.ZodDate,...z(t)});let en=class extends R{_parse(e){if(this._getType(e)!==k.symbol){const i=this._getOrReturnCtx(e);return _(i,{code:y.invalid_type,expected:k.symbol,received:i.parsedType}),O}return F(e.data)}};en.create=t=>new en({typeName:T.ZodSymbol,...z(t)});let yt=class extends R{_parse(e){if(this._getType(e)!==k.undefined){const i=this._getOrReturnCtx(e);return _(i,{code:y.invalid_type,expected:k.undefined,received:i.parsedType}),O}return F(e.data)}};yt.create=t=>new yt({typeName:T.ZodUndefined,...z(t)});let vt=class extends R{_parse(e){if(this._getType(e)!==k.null){const i=this._getOrReturnCtx(e);return _(i,{code:y.invalid_type,expected:k.null,received:i.parsedType}),O}return F(e.data)}};vt.create=t=>new vt({typeName:T.ZodNull,...z(t)});let Be=class extends R{constructor(){super(...arguments),this._any=!0}_parse(e){return F(e.data)}};Be.create=t=>new Be({typeName:T.ZodAny,...z(t)});let Te=class extends R{constructor(){super(...arguments),this._unknown=!0}_parse(e){return F(e.data)}};Te.create=t=>new Te({typeName:T.ZodUnknown,...z(t)});let ge=class extends R{_parse(e){const n=this._getOrReturnCtx(e);return _(n,{code:y.invalid_type,expected:k.never,received:n.parsedType}),O}};ge.create=t=>new ge({typeName:T.ZodNever,...z(t)});let tn=class extends R{_parse(e){if(this._getType(e)!==k.undefined){const i=this._getOrReturnCtx(e);return _(i,{code:y.invalid_type,expected:k.void,received:i.parsedType}),O}return F(e.data)}};tn.create=t=>new tn({typeName:T.ZodVoid,...z(t)});let Ce=class Jt extends R{_parse(e){const{ctx:n,status:i}=this._processInputParams(e),r=this._def;if(n.parsedType!==k.array)return _(n,{code:y.invalid_type,expected:k.array,received:n.parsedType}),O;if(r.exactLength!==null){const o=n.data.length>r.exactLength.value,d=n.data.length<r.exactLength.value;(o||d)&&(_(n,{code:o?y.too_big:y.too_small,minimum:d?r.exactLength.value:void 0,maximum:o?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),i.dirty())}if(r.minLength!==null&&n.data.length<r.minLength.value&&(_(n,{code:y.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),i.dirty()),r.maxLength!==null&&n.data.length>r.maxLength.value&&(_(n,{code:y.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((o,d)=>r.type._parseAsync(new de(n,o,n.path,d)))).then(o=>K.mergeArray(i,o));const s=[...n.data].map((o,d)=>r.type._parseSync(new de(n,o,n.path,d)));return K.mergeArray(i,s)}get element(){return this._def.type}min(e,n){return new Jt({...this._def,minLength:{value:e,message:j.toString(n)}})}max(e,n){return new Jt({...this._def,maxLength:{value:e,message:j.toString(n)}})}length(e,n){return new Jt({...this._def,exactLength:{value:e,message:j.toString(n)}})}nonempty(e){return this.min(1,e)}};Ce.create=(t,e)=>new Ce({type:t,minLength:null,maxLength:null,exactLength:null,typeName:T.ZodArray,...z(e)});function $e(t){if(t instanceof X){const e={};for(const n in t.shape){const i=t.shape[n];e[n]=se.create($e(i))}return new X({...t._def,shape:()=>e})}else return t instanceof Ce?new Ce({...t._def,type:$e(t.element)}):t instanceof se?se.create($e(t.unwrap())):t instanceof xe?xe.create($e(t.unwrap())):t instanceof _e?_e.create(t.items.map(e=>$e(e))):t}let X=class ee extends R{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Z.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==k.object){const l=this._getOrReturnCtx(e);return _(l,{code:y.invalid_type,expected:k.object,received:l.parsedType}),O}const{status:i,ctx:r}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),d=[];if(!(this._def.catchall instanceof ge&&this._def.unknownKeys==="strip"))for(const l in r.data)o.includes(l)||d.push(l);const c=[];for(const l of o){const u=s[l],f=r.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new de(r,f,r.path,l)),alwaysSet:l in r.data})}if(this._def.catchall instanceof ge){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of d)c.push({key:{status:"valid",value:u},value:{status:"valid",value:r.data[u]}});else if(l==="strict")d.length>0&&(_(r,{code:y.unrecognized_keys,keys:d}),i.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of d){const f=r.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new de(r,f,r.path,u)),alwaysSet:u in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const f=await u.key,p=await u.value;l.push({key:f,value:p,alwaysSet:u.alwaysSet})}return l}).then(l=>K.mergeObjectSync(i,l)):K.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(e){return j.errToObj,new ee({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,i)=>{var r,s,o,d;const c=(o=(s=(r=this._def).errorMap)===null||s===void 0?void 0:s.call(r,n,i).message)!==null&&o!==void 0?o:i.defaultError;return n.code==="unrecognized_keys"?{message:(d=j.errToObj(e).message)!==null&&d!==void 0?d:c}:{message:c}}}:{}})}strip(){return new ee({...this._def,unknownKeys:"strip"})}passthrough(){return new ee({...this._def,unknownKeys:"passthrough"})}extend(e){return new ee({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ee({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:T.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ee({...this._def,catchall:e})}pick(e){const n={};return Z.objectKeys(e).forEach(i=>{e[i]&&this.shape[i]&&(n[i]=this.shape[i])}),new ee({...this._def,shape:()=>n})}omit(e){const n={};return Z.objectKeys(this.shape).forEach(i=>{e[i]||(n[i]=this.shape[i])}),new ee({...this._def,shape:()=>n})}deepPartial(){return $e(this)}partial(e){const n={};return Z.objectKeys(this.shape).forEach(i=>{const r=this.shape[i];e&&!e[i]?n[i]=r:n[i]=r.optional()}),new ee({...this._def,shape:()=>n})}required(e){const n={};return Z.objectKeys(this.shape).forEach(i=>{if(e&&!e[i])n[i]=this.shape[i];else{let s=this.shape[i];for(;s instanceof se;)s=s._def.innerType;n[i]=s}}),new ee({...this._def,shape:()=>n})}keyof(){return Wi(Z.objectKeys(this.shape))}};X.create=(t,e)=>new X({shape:()=>t,unknownKeys:"strip",catchall:ge.create(),typeName:T.ZodObject,...z(e)});X.strictCreate=(t,e)=>new X({shape:()=>t,unknownKeys:"strict",catchall:ge.create(),typeName:T.ZodObject,...z(e)});X.lazycreate=(t,e)=>new X({shape:t,unknownKeys:"strip",catchall:ge.create(),typeName:T.ZodObject,...z(e)});let bt=class extends R{_parse(e){const{ctx:n}=this._processInputParams(e),i=this._def.options;function r(s){for(const d of s)if(d.result.status==="valid")return d.result;for(const d of s)if(d.result.status==="dirty")return n.common.issues.push(...d.ctx.common.issues),d.result;const o=s.map(d=>new ne(d.ctx.common.issues));return _(n,{code:y.invalid_union,unionErrors:o}),O}if(n.common.async)return Promise.all(i.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(r);{let s;const o=[];for(const c of i){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const d=o.map(c=>new ne(c));return _(n,{code:y.invalid_union,unionErrors:d}),O}}get options(){return this._def.options}};bt.create=(t,e)=>new bt({options:t,typeName:T.ZodUnion,...z(e)});const ue=t=>t instanceof xt?ue(t.schema):t instanceof re?ue(t.innerType()):t instanceof kt?[t.value]:t instanceof Ft?t.options:t instanceof It?Z.objectValues(t.enum):t instanceof wt?ue(t._def.innerType):t instanceof yt?[void 0]:t instanceof vt?[null]:t instanceof se?[void 0,...ue(t.unwrap())]:t instanceof xe?[null,...ue(t.unwrap())]:t instanceof Ca||t instanceof St?ue(t.unwrap()):t instanceof jt?ue(t._def.innerType):[];let Vi=class qi extends R{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==k.object)return _(n,{code:y.invalid_type,expected:k.object,received:n.parsedType}),O;const i=this.discriminator,r=n.data[i],s=this.optionsMap.get(r);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(_(n,{code:y.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),O)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,i){const r=new Map;for(const s of n){const o=ue(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const d of o){if(r.has(d))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(d)}`);r.set(d,s)}}return new qi({typeName:T.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:r,...z(i)})}};function Qn(t,e){const n=he(t),i=he(e);if(t===e)return{valid:!0,data:t};if(n===k.object&&i===k.object){const r=Z.objectKeys(e),s=Z.objectKeys(t).filter(d=>r.indexOf(d)!==-1),o={...t,...e};for(const d of s){const c=Qn(t[d],e[d]);if(!c.valid)return{valid:!1};o[d]=c.data}return{valid:!0,data:o}}else if(n===k.array&&i===k.array){if(t.length!==e.length)return{valid:!1};const r=[];for(let s=0;s<t.length;s++){const o=t[s],d=e[s],c=Qn(o,d);if(!c.valid)return{valid:!1};r.push(c.data)}return{valid:!0,data:r}}else return n===k.date&&i===k.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}let _t=class extends R{_parse(e){const{status:n,ctx:i}=this._processInputParams(e),r=(s,o)=>{if(Wn(s)||Wn(o))return O;const d=Qn(s.value,o.value);return d.valid?((Jn(s)||Jn(o))&&n.dirty(),{status:n.value,value:d.data}):(_(i,{code:y.invalid_intersection_types}),O)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([s,o])=>r(s,o)):r(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}};_t.create=(t,e,n)=>new _t({left:t,right:e,typeName:T.ZodIntersection,...z(n)});let _e=class Fi extends R{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==k.array)return _(i,{code:y.invalid_type,expected:k.array,received:i.parsedType}),O;if(i.data.length<this._def.items.length)return _(i,{code:y.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),O;!this._def.rest&&i.data.length>this._def.items.length&&(_(i,{code:y.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...i.data].map((o,d)=>{const c=this._def.items[d]||this._def.rest;return c?c._parse(new de(i,o,i.path,d)):null}).filter(o=>!!o);return i.common.async?Promise.all(s).then(o=>K.mergeArray(n,o)):K.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Fi({...this._def,rest:e})}};_e.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new _e({items:t,typeName:T.ZodTuple,rest:null,...z(e)})};let Bi=class Xn extends R{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==k.object)return _(i,{code:y.invalid_type,expected:k.object,received:i.parsedType}),O;const r=[],s=this._def.keyType,o=this._def.valueType;for(const d in i.data)r.push({key:s._parse(new de(i,d,i.path,d)),value:o._parse(new de(i,i.data[d],i.path,d)),alwaysSet:d in i.data});return i.common.async?K.mergeObjectAsync(n,r):K.mergeObjectSync(n,r)}get element(){return this._def.valueType}static create(e,n,i){return n instanceof R?new Xn({keyType:e,valueType:n,typeName:T.ZodRecord,...z(i)}):new Xn({keyType:Fe.create(),valueType:e,typeName:T.ZodRecord,...z(n)})}},nn=class extends R{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==k.map)return _(i,{code:y.invalid_type,expected:k.map,received:i.parsedType}),O;const r=this._def.keyType,s=this._def.valueType,o=[...i.data.entries()].map(([d,c],l)=>({key:r._parse(new de(i,d,i.path,[l,"key"])),value:s._parse(new de(i,c,i.path,[l,"value"]))}));if(i.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return O;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),d.set(l.value,u.value)}return{status:n.value,value:d}})}else{const d=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return O;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),d.set(l.value,u.value)}return{status:n.value,value:d}}}};nn.create=(t,e,n)=>new nn({valueType:e,keyType:t,typeName:T.ZodMap,...z(n)});let an=class ea extends R{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==k.set)return _(i,{code:y.invalid_type,expected:k.set,received:i.parsedType}),O;const r=this._def;r.minSize!==null&&i.data.size<r.minSize.value&&(_(i,{code:y.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),n.dirty()),r.maxSize!==null&&i.data.size>r.maxSize.value&&(_(i,{code:y.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return O;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const d=[...i.data.values()].map((c,l)=>s._parse(new de(i,c,i.path,l)));return i.common.async?Promise.all(d).then(c=>o(c)):o(d)}min(e,n){return new ea({...this._def,minSize:{value:e,message:j.toString(n)}})}max(e,n){return new ea({...this._def,maxSize:{value:e,message:j.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}};an.create=(t,e)=>new an({valueType:t,minSize:null,maxSize:null,typeName:T.ZodSet,...z(e)});let Ki=class Ht extends R{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==k.function)return _(n,{code:y.invalid_type,expected:k.function,received:n.parsedType}),O;function i(d,c){return Qt({data:d,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Yt(),qe].filter(l=>!!l),issueData:{code:y.invalid_arguments,argumentsError:c}})}function r(d,c){return Qt({data:d,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Yt(),qe].filter(l=>!!l),issueData:{code:y.invalid_return_type,returnTypeError:c}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Ke){const d=this;return F(async function(...c){const l=new ne([]),u=await d._def.args.parseAsync(c,s).catch(m=>{throw l.addIssue(i(c,m)),l}),f=await Reflect.apply(o,this,u);return await d._def.returns._def.type.parseAsync(f,s).catch(m=>{throw l.addIssue(r(f,m)),l})})}else{const d=this;return F(function(...c){const l=d._def.args.safeParse(c,s);if(!l.success)throw new ne([i(c,l.error)]);const u=Reflect.apply(o,this,l.data),f=d._def.returns.safeParse(u,s);if(!f.success)throw new ne([r(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ht({...this._def,args:_e.create(e).rest(Te.create())})}returns(e){return new Ht({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,i){return new Ht({args:e||_e.create([]).rest(Te.create()),returns:n||Te.create(),typeName:T.ZodFunction,...z(i)})}},xt=class extends R{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}};xt.create=(t,e)=>new xt({getter:t,typeName:T.ZodLazy,...z(e)});let kt=class extends R{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return _(n,{received:n.data,code:y.invalid_literal,expected:this._def.value}),O}return{status:"valid",value:e.data}}get value(){return this._def.value}};kt.create=(t,e)=>new kt({value:t,typeName:T.ZodLiteral,...z(e)});function Wi(t,e){return new Ft({values:t,typeName:T.ZodEnum,...z(e)})}let Ft=class ta extends R{constructor(){super(...arguments),rt.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),i=this._def.values;return _(n,{expected:Z.joinValues(i),received:n.parsedType,code:y.invalid_type}),O}if(Xt(this,rt)||Mi(this,rt,new Set(this._def.values)),!Xt(this,rt).has(e.data)){const n=this._getOrReturnCtx(e),i=this._def.values;return _(n,{received:n.data,code:y.invalid_enum_value,options:i}),O}return F(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ta.create(e,{...this._def,...n})}exclude(e,n=this._def){return ta.create(this.options.filter(i=>!e.includes(i)),{...this._def,...n})}};rt=new WeakMap;Ft.create=Wi;let It=class extends R{constructor(){super(...arguments),it.set(this,void 0)}_parse(e){const n=Z.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==k.string&&i.parsedType!==k.number){const r=Z.objectValues(n);return _(i,{expected:Z.joinValues(r),received:i.parsedType,code:y.invalid_type}),O}if(Xt(this,it)||Mi(this,it,new Set(Z.getValidEnumValues(this._def.values))),!Xt(this,it).has(e.data)){const r=Z.objectValues(n);return _(i,{received:i.data,code:y.invalid_enum_value,options:r}),O}return F(e.data)}get enum(){return this._def.values}};it=new WeakMap;It.create=(t,e)=>new It({values:t,typeName:T.ZodNativeEnum,...z(e)});let Ke=class extends R{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==k.promise&&n.common.async===!1)return _(n,{code:y.invalid_type,expected:k.promise,received:n.parsedType}),O;const i=n.parsedType===k.promise?n.data:Promise.resolve(n.data);return F(i.then(r=>this._def.type.parseAsync(r,{path:n.path,errorMap:n.common.contextualErrorMap})))}};Ke.create=(t,e)=>new Ke({type:t,typeName:T.ZodPromise,...z(e)});let re=class extends R{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===T.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:i}=this._processInputParams(e),r=this._def.effect||null,s={addIssue:o=>{_(i,o),o.fatal?n.abort():n.dirty()},get path(){return i.path}};if(s.addIssue=s.addIssue.bind(s),r.type==="preprocess"){const o=r.transform(i.data,s);if(i.common.async)return Promise.resolve(o).then(async d=>{if(n.value==="aborted")return O;const c=await this._def.schema._parseAsync({data:d,path:i.path,parent:i});return c.status==="aborted"?O:c.status==="dirty"||n.value==="dirty"?Ne(c.value):c});{if(n.value==="aborted")return O;const d=this._def.schema._parseSync({data:o,path:i.path,parent:i});return d.status==="aborted"?O:d.status==="dirty"||n.value==="dirty"?Ne(d.value):d}}if(r.type==="refinement"){const o=d=>{const c=r.refinement(d,s);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(i.common.async===!1){const d=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return d.status==="aborted"?O:(d.status==="dirty"&&n.dirty(),o(d.value),{status:n.value,value:d.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(d=>d.status==="aborted"?O:(d.status==="dirty"&&n.dirty(),o(d.value).then(()=>({status:n.value,value:d.value}))))}if(r.type==="transform")if(i.common.async===!1){const o=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Oe(o))return o;const d=r.transform(o.value,s);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:d}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(o=>Oe(o)?Promise.resolve(r.transform(o.value,s)).then(d=>({status:n.value,value:d})):o);Z.assertNever(r)}};re.create=(t,e,n)=>new re({schema:t,typeName:T.ZodEffects,effect:e,...z(n)});re.createWithPreprocess=(t,e,n)=>new re({schema:e,effect:{type:"preprocess",transform:t},typeName:T.ZodEffects,...z(n)});let se=class extends R{_parse(e){return this._getType(e)===k.undefined?F(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};se.create=(t,e)=>new se({innerType:t,typeName:T.ZodOptional,...z(e)});let xe=class extends R{_parse(e){return this._getType(e)===k.null?F(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};xe.create=(t,e)=>new xe({innerType:t,typeName:T.ZodNullable,...z(e)});let wt=class extends R{_parse(e){const{ctx:n}=this._processInputParams(e);let i=n.data;return n.parsedType===k.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}};wt.create=(t,e)=>new wt({innerType:t,typeName:T.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...z(e)});let jt=class extends R{_parse(e){const{ctx:n}=this._processInputParams(e),i={...n,common:{...n.common,issues:[]}},r=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return pt(r)?r.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ne(i.common.issues)},input:i.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new ne(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}};jt.create=(t,e)=>new jt({innerType:t,typeName:T.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...z(e)});let rn=class extends R{_parse(e){if(this._getType(e)!==k.nan){const i=this._getOrReturnCtx(e);return _(i,{code:y.invalid_type,expected:k.nan,received:i.parsedType}),O}return{status:"valid",value:e.data}}};rn.create=t=>new rn({typeName:T.ZodNaN,...z(t)});const Ro=Symbol("zod_brand");let Ca=class extends R{_parse(e){const{ctx:n}=this._processInputParams(e),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}},za=class Ji extends R{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?O:s.status==="dirty"?(n.dirty(),Ne(s.value)):this._def.out._parseAsync({data:s.value,path:i.path,parent:i})})();{const r=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return r.status==="aborted"?O:r.status==="dirty"?(n.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:i.path,parent:i})}}static create(e,n){return new Ji({in:e,out:n,typeName:T.ZodPipeline})}},St=class extends R{_parse(e){const n=this._def.innerType._parse(e),i=r=>(Oe(r)&&(r.value=Object.freeze(r.value)),r);return pt(n)?n.then(r=>i(r)):i(n)}unwrap(){return this._def.innerType}};St.create=(t,e)=>new St({innerType:t,typeName:T.ZodReadonly,...z(e)});function Ja(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function Hi(t,e={},n){return t?Be.create().superRefine((i,r)=>{var s,o;const d=t(i);if(d instanceof Promise)return d.then(c=>{var l,u;if(!c){const f=Ja(e,i),p=(u=(l=f.fatal)!==null&&l!==void 0?l:n)!==null&&u!==void 0?u:!0;r.addIssue({code:"custom",...f,fatal:p})}});if(!d){const c=Ja(e,i),l=(o=(s=c.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0;r.addIssue({code:"custom",...c,fatal:l})}}):Be.create()}const $o={object:X.lazycreate};var T;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(T||(T={}));const Zo=(t,e={message:`Input not instance of ${t.name}`})=>Hi(n=>n instanceof t,e),On=Fe.create,We=mt.create,Po=rn.create,No=ft.create,Yi=ht.create,Mo=gt.create,Go=en.create,Do=yt.create,Uo=vt.create,Lo=Be.create,Vo=Te.create,qo=ge.create,Fo=tn.create,Qi=Ce.create,Je=X.create,Bo=X.strictCreate,Ko=bt.create,Wo=Vi.create,Jo=_t.create,Ho=_e.create,Yo=Bi.create,Qo=nn.create,Xo=an.create,ed=Ki.create,td=xt.create,nd=kt.create,ad=Ft.create,rd=It.create,id=Ke.create,Ha=re.create,sd=se.create,od=xe.create,dd=re.createWithPreprocess,cd=za.create,ld=()=>On().optional(),ud=()=>We().optional(),pd=()=>Yi().optional(),md={string:(t=>Fe.create({...t,coerce:!0})),number:(t=>mt.create({...t,coerce:!0})),boolean:(t=>ht.create({...t,coerce:!0})),bigint:(t=>ft.create({...t,coerce:!0})),date:(t=>gt.create({...t,coerce:!0}))},fd=O;var a=Object.freeze({__proto__:null,defaultErrorMap:qe,setErrorMap:lo,getErrorMap:Yt,makeIssue:Qt,EMPTY_PATH:uo,addIssueToContext:_,ParseStatus:K,INVALID:O,DIRTY:Ne,OK:F,isAborted:Wn,isDirty:Jn,isValid:Oe,isAsync:pt,get util(){return Z},get objectUtil(){return Kn},ZodParsedType:k,getParsedType:he,ZodType:R,datetimeRegex:Ui,ZodString:Fe,ZodNumber:mt,ZodBigInt:ft,ZodBoolean:ht,ZodDate:gt,ZodSymbol:en,ZodUndefined:yt,ZodNull:vt,ZodAny:Be,ZodUnknown:Te,ZodNever:ge,ZodVoid:tn,ZodArray:Ce,ZodObject:X,ZodUnion:bt,ZodDiscriminatedUnion:Vi,ZodIntersection:_t,ZodTuple:_e,ZodRecord:Bi,ZodMap:nn,ZodSet:an,ZodFunction:Ki,ZodLazy:xt,ZodLiteral:kt,ZodEnum:Ft,ZodNativeEnum:It,ZodPromise:Ke,ZodEffects:re,ZodTransformer:re,ZodOptional:se,ZodNullable:xe,ZodDefault:wt,ZodCatch:jt,ZodNaN:rn,BRAND:Ro,ZodBranded:Ca,ZodPipeline:za,ZodReadonly:St,custom:Hi,Schema:R,ZodSchema:R,late:$o,get ZodFirstPartyTypeKind(){return T},coerce:md,any:Lo,array:Qi,bigint:No,boolean:Yi,date:Mo,discriminatedUnion:Wo,effect:Ha,enum:ad,function:ed,instanceof:Zo,intersection:Jo,lazy:td,literal:nd,map:Qo,nan:Po,nativeEnum:rd,never:qo,null:Uo,nullable:od,number:We,object:Je,oboolean:pd,onumber:ud,optional:sd,ostring:ld,pipeline:cd,preprocess:dd,promise:id,record:Yo,set:Xo,strictObject:Bo,string:On,symbol:Go,transformer:Ha,tuple:Ho,undefined:Do,union:Ko,unknown:Vo,void:Fo,NEVER:fd,ZodIssueCode:y,quotelessJson:co,ZodError:ne});const hd=a.object({name:a.string(),type:a.string(),value:a.string()}),Ea=hd.array(),Ra=a.object({id:a.string(),status:a.string(),ssl:a.object({status:a.string(),validation_errors:a.object({message:a.string()}).array().optional()}),verification_errors:a.string().array().optional()});var na;(function(t){t.PendingVerification="PendingVerification",t.PendingSsl="PendingSsl",t.Active="Active",t.Error="Error"})(na||(na={}));const $a=a.nativeEnum(na);var De;(function(t){t.PostRegister="PostRegister",t.PostSignIn="PostSignIn",t.PostResetPassword="PostResetPassword"})(De||(De={}));var Ya;(function(t){t.User="User",t.Role="Role",t.Scope="Scope",t.Organization="Organization",t.OrganizationRole="OrganizationRole",t.OrganizationScope="OrganizationScope"})(Ya||(Ya={}));var Qa;(function(t){t.Created="Created",t.Deleted="Deleted"})(Qa||(Qa={}));var Xa;(function(t){t.Updated="Updated"})(Xa||(Xa={}));const gd=Object.freeze([De.PostRegister,De.PostSignIn,De.PostResetPassword,"User.Created","User.Deleted","User.Data.Updated","User.SuspensionStatus.Updated","Role.Created","Role.Deleted","Role.Data.Updated","Role.Scopes.Updated","Scope.Created","Scope.Deleted","Scope.Data.Updated","Organization.Created","Organization.Deleted","Organization.Data.Updated","Organization.Membership.Updated","OrganizationRole.Created","OrganizationRole.Deleted","OrganizationRole.Data.Updated","OrganizationRole.Scopes.Updated","OrganizationScope.Created","OrganizationScope.Deleted","OrganizationScope.Data.Updated"]),Za=a.enum(gd),Xi=Za.array();a.nativeEnum(De);const es=a.object({url:a.string(),headers:a.record(a.string()).optional(),retries:a.number().gte(0).lte(3).optional()});function yd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zn={exports:{}},Pn,er;function ts(){return er||(er=1,Pn={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),Pn}var Nn={exports:{}},Mn,tr;function vd(){return tr||(tr=1,Mn=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")}),Mn}var nr;function bd(){if(nr)return Nn.exports;nr=1;var t=vd(),e=Array.prototype.concat,n=Array.prototype.slice,i=Nn.exports=function(s){for(var o=[],d=0,c=s.length;d<c;d++){var l=s[d];t(l)?o=e.call(o,n.call(l)):o.push(l)}return o};return i.wrap=function(r){return function(){return r(i(arguments))}},Nn.exports}var ar;function _d(){if(ar)return Zn.exports;ar=1;var t=ts(),e=bd(),n=Object.hasOwnProperty,i=Object.create(null);for(var r in t)n.call(t,r)&&(i[t[r]]=r);var s=Zn.exports={to:{},get:{}};s.get=function(c){var l=c.substring(0,3).toLowerCase(),u,f;switch(l){case"hsl":u=s.get.hsl(c),f="hsl";break;case"hwb":u=s.get.hwb(c),f="hwb";break;default:u=s.get.rgb(c),f="rgb";break}return u?{model:f,value:u}:null},s.get.rgb=function(c){if(!c)return null;var l=/^#([a-f0-9]{3,4})$/i,u=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,f=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,p=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,m=/^(\w+)$/,g=[0,0,0,1],b,w,G;if(b=c.match(u)){for(G=b[2],b=b[1],w=0;w<3;w++){var H=w*2;g[w]=parseInt(b.slice(H,H+2),16)}G&&(g[3]=parseInt(G,16)/255)}else if(b=c.match(l)){for(b=b[1],G=b[3],w=0;w<3;w++)g[w]=parseInt(b[w]+b[w],16);G&&(g[3]=parseInt(G+G,16)/255)}else if(b=c.match(f)){for(w=0;w<3;w++)g[w]=parseInt(b[w+1],0);b[4]&&(b[5]?g[3]=parseFloat(b[4])*.01:g[3]=parseFloat(b[4]))}else if(b=c.match(p)){for(w=0;w<3;w++)g[w]=Math.round(parseFloat(b[w+1])*2.55);b[4]&&(b[5]?g[3]=parseFloat(b[4])*.01:g[3]=parseFloat(b[4]))}else return(b=c.match(m))?b[1]==="transparent"?[0,0,0,0]:n.call(t,b[1])?(g=t[b[1]],g[3]=1,g):null:null;for(w=0;w<3;w++)g[w]=o(g[w],0,255);return g[3]=o(g[3],0,1),g},s.get.hsl=function(c){if(!c)return null;var l=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,u=c.match(l);if(u){var f=parseFloat(u[4]),p=(parseFloat(u[1])%360+360)%360,m=o(parseFloat(u[2]),0,100),g=o(parseFloat(u[3]),0,100),b=o(isNaN(f)?1:f,0,1);return[p,m,g,b]}return null},s.get.hwb=function(c){if(!c)return null;var l=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,u=c.match(l);if(u){var f=parseFloat(u[4]),p=(parseFloat(u[1])%360+360)%360,m=o(parseFloat(u[2]),0,100),g=o(parseFloat(u[3]),0,100),b=o(isNaN(f)?1:f,0,1);return[p,m,g,b]}return null},s.to.hex=function(){var c=e(arguments);return"#"+d(c[0])+d(c[1])+d(c[2])+(c[3]<1?d(Math.round(c[3]*255)):"")},s.to.rgb=function(){var c=e(arguments);return c.length<4||c[3]===1?"rgb("+Math.round(c[0])+", "+Math.round(c[1])+", "+Math.round(c[2])+")":"rgba("+Math.round(c[0])+", "+Math.round(c[1])+", "+Math.round(c[2])+", "+c[3]+")"},s.to.rgb.percent=function(){var c=e(arguments),l=Math.round(c[0]/255*100),u=Math.round(c[1]/255*100),f=Math.round(c[2]/255*100);return c.length<4||c[3]===1?"rgb("+l+"%, "+u+"%, "+f+"%)":"rgba("+l+"%, "+u+"%, "+f+"%, "+c[3]+")"},s.to.hsl=function(){var c=e(arguments);return c.length<4||c[3]===1?"hsl("+c[0]+", "+c[1]+"%, "+c[2]+"%)":"hsla("+c[0]+", "+c[1]+"%, "+c[2]+"%, "+c[3]+")"},s.to.hwb=function(){var c=e(arguments),l="";return c.length>=4&&c[3]!==1&&(l=", "+c[3]),"hwb("+c[0]+", "+c[1]+"%, "+c[2]+"%"+l+")"},s.to.keyword=function(c){return i[c.slice(0,3)]};function o(c,l,u){return Math.min(Math.max(l,c),u)}function d(c){var l=Math.round(c).toString(16).toUpperCase();return l.length<2?"0"+l:l}return Zn.exports}var Gn,rr;function ns(){if(rr)return Gn;rr=1;const t=ts(),e={};for(const r of Object.keys(t))e[t[r]]=r;const n={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};Gn=n;for(const r of Object.keys(n)){if(!("channels"in n[r]))throw new Error("missing channels property: "+r);if(!("labels"in n[r]))throw new Error("missing channel labels property: "+r);if(n[r].labels.length!==n[r].channels)throw new Error("channel and label counts mismatch: "+r);const{channels:s,labels:o}=n[r];delete n[r].channels,delete n[r].labels,Object.defineProperty(n[r],"channels",{value:s}),Object.defineProperty(n[r],"labels",{value:o})}n.rgb.hsl=function(r){const s=r[0]/255,o=r[1]/255,d=r[2]/255,c=Math.min(s,o,d),l=Math.max(s,o,d),u=l-c;let f,p;l===c?f=0:s===l?f=(o-d)/u:o===l?f=2+(d-s)/u:d===l&&(f=4+(s-o)/u),f=Math.min(f*60,360),f<0&&(f+=360);const m=(c+l)/2;return l===c?p=0:m<=.5?p=u/(l+c):p=u/(2-l-c),[f,p*100,m*100]},n.rgb.hsv=function(r){let s,o,d,c,l;const u=r[0]/255,f=r[1]/255,p=r[2]/255,m=Math.max(u,f,p),g=m-Math.min(u,f,p),b=function(w){return(m-w)/6/g+1/2};return g===0?(c=0,l=0):(l=g/m,s=b(u),o=b(f),d=b(p),u===m?c=d-o:f===m?c=1/3+s-d:p===m&&(c=2/3+o-s),c<0?c+=1:c>1&&(c-=1)),[c*360,l*100,m*100]},n.rgb.hwb=function(r){const s=r[0],o=r[1];let d=r[2];const c=n.rgb.hsl(r)[0],l=1/255*Math.min(s,Math.min(o,d));return d=1-1/255*Math.max(s,Math.max(o,d)),[c,l*100,d*100]},n.rgb.cmyk=function(r){const s=r[0]/255,o=r[1]/255,d=r[2]/255,c=Math.min(1-s,1-o,1-d),l=(1-s-c)/(1-c)||0,u=(1-o-c)/(1-c)||0,f=(1-d-c)/(1-c)||0;return[l*100,u*100,f*100,c*100]};function i(r,s){return(r[0]-s[0])**2+(r[1]-s[1])**2+(r[2]-s[2])**2}return n.rgb.keyword=function(r){const s=e[r];if(s)return s;let o=1/0,d;for(const c of Object.keys(t)){const l=t[c],u=i(r,l);u<o&&(o=u,d=c)}return d},n.keyword.rgb=function(r){return t[r]},n.rgb.xyz=function(r){let s=r[0]/255,o=r[1]/255,d=r[2]/255;s=s>.04045?((s+.055)/1.055)**2.4:s/12.92,o=o>.04045?((o+.055)/1.055)**2.4:o/12.92,d=d>.04045?((d+.055)/1.055)**2.4:d/12.92;const c=s*.4124+o*.3576+d*.1805,l=s*.2126+o*.7152+d*.0722,u=s*.0193+o*.1192+d*.9505;return[c*100,l*100,u*100]},n.rgb.lab=function(r){const s=n.rgb.xyz(r);let o=s[0],d=s[1],c=s[2];o/=95.047,d/=100,c/=108.883,o=o>.008856?o**(1/3):7.787*o+16/116,d=d>.008856?d**(1/3):7.787*d+16/116,c=c>.008856?c**(1/3):7.787*c+16/116;const l=116*d-16,u=500*(o-d),f=200*(d-c);return[l,u,f]},n.hsl.rgb=function(r){const s=r[0]/360,o=r[1]/100,d=r[2]/100;let c,l,u;if(o===0)return u=d*255,[u,u,u];d<.5?c=d*(1+o):c=d+o-d*o;const f=2*d-c,p=[0,0,0];for(let m=0;m<3;m++)l=s+1/3*-(m-1),l<0&&l++,l>1&&l--,6*l<1?u=f+(c-f)*6*l:2*l<1?u=c:3*l<2?u=f+(c-f)*(2/3-l)*6:u=f,p[m]=u*255;return p},n.hsl.hsv=function(r){const s=r[0];let o=r[1]/100,d=r[2]/100,c=o;const l=Math.max(d,.01);d*=2,o*=d<=1?d:2-d,c*=l<=1?l:2-l;const u=(d+o)/2,f=d===0?2*c/(l+c):2*o/(d+o);return[s,f*100,u*100]},n.hsv.rgb=function(r){const s=r[0]/60,o=r[1]/100;let d=r[2]/100;const c=Math.floor(s)%6,l=s-Math.floor(s),u=255*d*(1-o),f=255*d*(1-o*l),p=255*d*(1-o*(1-l));switch(d*=255,c){case 0:return[d,p,u];case 1:return[f,d,u];case 2:return[u,d,p];case 3:return[u,f,d];case 4:return[p,u,d];case 5:return[d,u,f]}},n.hsv.hsl=function(r){const s=r[0],o=r[1]/100,d=r[2]/100,c=Math.max(d,.01);let l,u;u=(2-o)*d;const f=(2-o)*c;return l=o*c,l/=f<=1?f:2-f,l=l||0,u/=2,[s,l*100,u*100]},n.hwb.rgb=function(r){const s=r[0]/360;let o=r[1]/100,d=r[2]/100;const c=o+d;let l;c>1&&(o/=c,d/=c);const u=Math.floor(6*s),f=1-d;l=6*s-u,(u&1)!==0&&(l=1-l);const p=o+l*(f-o);let m,g,b;switch(u){default:case 6:case 0:m=f,g=p,b=o;break;case 1:m=p,g=f,b=o;break;case 2:m=o,g=f,b=p;break;case 3:m=o,g=p,b=f;break;case 4:m=p,g=o,b=f;break;case 5:m=f,g=o,b=p;break}return[m*255,g*255,b*255]},n.cmyk.rgb=function(r){const s=r[0]/100,o=r[1]/100,d=r[2]/100,c=r[3]/100,l=1-Math.min(1,s*(1-c)+c),u=1-Math.min(1,o*(1-c)+c),f=1-Math.min(1,d*(1-c)+c);return[l*255,u*255,f*255]},n.xyz.rgb=function(r){const s=r[0]/100,o=r[1]/100,d=r[2]/100;let c,l,u;return c=s*3.2406+o*-1.5372+d*-.4986,l=s*-.9689+o*1.8758+d*.0415,u=s*.0557+o*-.204+d*1.057,c=c>.0031308?1.055*c**(1/2.4)-.055:c*12.92,l=l>.0031308?1.055*l**(1/2.4)-.055:l*12.92,u=u>.0031308?1.055*u**(1/2.4)-.055:u*12.92,c=Math.min(Math.max(0,c),1),l=Math.min(Math.max(0,l),1),u=Math.min(Math.max(0,u),1),[c*255,l*255,u*255]},n.xyz.lab=function(r){let s=r[0],o=r[1],d=r[2];s/=95.047,o/=100,d/=108.883,s=s>.008856?s**(1/3):7.787*s+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,d=d>.008856?d**(1/3):7.787*d+16/116;const c=116*o-16,l=500*(s-o),u=200*(o-d);return[c,l,u]},n.lab.xyz=function(r){const s=r[0],o=r[1],d=r[2];let c,l,u;l=(s+16)/116,c=o/500+l,u=l-d/200;const f=l**3,p=c**3,m=u**3;return l=f>.008856?f:(l-16/116)/7.787,c=p>.008856?p:(c-16/116)/7.787,u=m>.008856?m:(u-16/116)/7.787,c*=95.047,l*=100,u*=108.883,[c,l,u]},n.lab.lch=function(r){const s=r[0],o=r[1],d=r[2];let c;c=Math.atan2(d,o)*360/2/Math.PI,c<0&&(c+=360);const u=Math.sqrt(o*o+d*d);return[s,u,c]},n.lch.lab=function(r){const s=r[0],o=r[1],c=r[2]/360*2*Math.PI,l=o*Math.cos(c),u=o*Math.sin(c);return[s,l,u]},n.rgb.ansi16=function(r,s=null){const[o,d,c]=r;let l=s===null?n.rgb.hsv(r)[2]:s;if(l=Math.round(l/50),l===0)return 30;let u=30+(Math.round(c/255)<<2|Math.round(d/255)<<1|Math.round(o/255));return l===2&&(u+=60),u},n.hsv.ansi16=function(r){return n.rgb.ansi16(n.hsv.rgb(r),r[2])},n.rgb.ansi256=function(r){const s=r[0],o=r[1],d=r[2];return s===o&&o===d?s<8?16:s>248?231:Math.round((s-8)/247*24)+232:16+36*Math.round(s/255*5)+6*Math.round(o/255*5)+Math.round(d/255*5)},n.ansi16.rgb=function(r){let s=r%10;if(s===0||s===7)return r>50&&(s+=3.5),s=s/10.5*255,[s,s,s];const o=(~~(r>50)+1)*.5,d=(s&1)*o*255,c=(s>>1&1)*o*255,l=(s>>2&1)*o*255;return[d,c,l]},n.ansi256.rgb=function(r){if(r>=232){const l=(r-232)*10+8;return[l,l,l]}r-=16;let s;const o=Math.floor(r/36)/5*255,d=Math.floor((s=r%36)/6)/5*255,c=s%6/5*255;return[o,d,c]},n.rgb.hex=function(r){const o=(((Math.round(r[0])&255)<<16)+((Math.round(r[1])&255)<<8)+(Math.round(r[2])&255)).toString(16).toUpperCase();return"000000".substring(o.length)+o},n.hex.rgb=function(r){const s=r.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!s)return[0,0,0];let o=s[0];s[0].length===3&&(o=o.split("").map(f=>f+f).join(""));const d=parseInt(o,16),c=d>>16&255,l=d>>8&255,u=d&255;return[c,l,u]},n.rgb.hcg=function(r){const s=r[0]/255,o=r[1]/255,d=r[2]/255,c=Math.max(Math.max(s,o),d),l=Math.min(Math.min(s,o),d),u=c-l;let f,p;return u<1?f=l/(1-u):f=0,u<=0?p=0:c===s?p=(o-d)/u%6:c===o?p=2+(d-s)/u:p=4+(s-o)/u,p/=6,p%=1,[p*360,u*100,f*100]},n.hsl.hcg=function(r){const s=r[1]/100,o=r[2]/100,d=o<.5?2*s*o:2*s*(1-o);let c=0;return d<1&&(c=(o-.5*d)/(1-d)),[r[0],d*100,c*100]},n.hsv.hcg=function(r){const s=r[1]/100,o=r[2]/100,d=s*o;let c=0;return d<1&&(c=(o-d)/(1-d)),[r[0],d*100,c*100]},n.hcg.rgb=function(r){const s=r[0]/360,o=r[1]/100,d=r[2]/100;if(o===0)return[d*255,d*255,d*255];const c=[0,0,0],l=s%1*6,u=l%1,f=1-u;let p=0;switch(Math.floor(l)){case 0:c[0]=1,c[1]=u,c[2]=0;break;case 1:c[0]=f,c[1]=1,c[2]=0;break;case 2:c[0]=0,c[1]=1,c[2]=u;break;case 3:c[0]=0,c[1]=f,c[2]=1;break;case 4:c[0]=u,c[1]=0,c[2]=1;break;default:c[0]=1,c[1]=0,c[2]=f}return p=(1-o)*d,[(o*c[0]+p)*255,(o*c[1]+p)*255,(o*c[2]+p)*255]},n.hcg.hsv=function(r){const s=r[1]/100,o=r[2]/100,d=s+o*(1-s);let c=0;return d>0&&(c=s/d),[r[0],c*100,d*100]},n.hcg.hsl=function(r){const s=r[1]/100,d=r[2]/100*(1-s)+.5*s;let c=0;return d>0&&d<.5?c=s/(2*d):d>=.5&&d<1&&(c=s/(2*(1-d))),[r[0],c*100,d*100]},n.hcg.hwb=function(r){const s=r[1]/100,o=r[2]/100,d=s+o*(1-s);return[r[0],(d-s)*100,(1-d)*100]},n.hwb.hcg=function(r){const s=r[1]/100,d=1-r[2]/100,c=d-s;let l=0;return c<1&&(l=(d-c)/(1-c)),[r[0],c*100,l*100]},n.apple.rgb=function(r){return[r[0]/65535*255,r[1]/65535*255,r[2]/65535*255]},n.rgb.apple=function(r){return[r[0]/255*65535,r[1]/255*65535,r[2]/255*65535]},n.gray.rgb=function(r){return[r[0]/100*255,r[0]/100*255,r[0]/100*255]},n.gray.hsl=function(r){return[0,0,r[0]]},n.gray.hsv=n.gray.hsl,n.gray.hwb=function(r){return[0,100,r[0]]},n.gray.cmyk=function(r){return[0,0,0,r[0]]},n.gray.lab=function(r){return[r[0],0,0]},n.gray.hex=function(r){const s=Math.round(r[0]/100*255)&255,d=((s<<16)+(s<<8)+s).toString(16).toUpperCase();return"000000".substring(d.length)+d},n.rgb.gray=function(r){return[(r[0]+r[1]+r[2])/3/255*100]},Gn}var Dn,ir;function xd(){if(ir)return Dn;ir=1;const t=ns();function e(){const s={},o=Object.keys(t);for(let d=o.length,c=0;c<d;c++)s[o[c]]={distance:-1,parent:null};return s}function n(s){const o=e(),d=[s];for(o[s].distance=0;d.length;){const c=d.pop(),l=Object.keys(t[c]);for(let u=l.length,f=0;f<u;f++){const p=l[f],m=o[p];m.distance===-1&&(m.distance=o[c].distance+1,m.parent=c,d.unshift(p))}}return o}function i(s,o){return function(d){return o(s(d))}}function r(s,o){const d=[o[s].parent,s];let c=t[o[s].parent][s],l=o[s].parent;for(;o[l].parent;)d.unshift(o[l].parent),c=i(t[o[l].parent][l],c),l=o[l].parent;return c.conversion=d,c}return Dn=function(s){const o=n(s),d={},c=Object.keys(o);for(let l=c.length,u=0;u<l;u++){const f=c[u];o[f].parent!==null&&(d[f]=r(f,o))}return d},Dn}var Un,sr;function kd(){if(sr)return Un;sr=1;const t=ns(),e=xd(),n={},i=Object.keys(t);function r(o){const d=function(...c){const l=c[0];return l==null?l:(l.length>1&&(c=l),o(c))};return"conversion"in o&&(d.conversion=o.conversion),d}function s(o){const d=function(...c){const l=c[0];if(l==null)return l;l.length>1&&(c=l);const u=o(c);if(typeof u=="object")for(let f=u.length,p=0;p<f;p++)u[p]=Math.round(u[p]);return u};return"conversion"in o&&(d.conversion=o.conversion),d}return i.forEach(o=>{n[o]={},Object.defineProperty(n[o],"channels",{value:t[o].channels}),Object.defineProperty(n[o],"labels",{value:t[o].labels});const d=e(o);Object.keys(d).forEach(l=>{const u=d[l];n[o][l]=s(u),n[o][l].raw=r(u)})}),Un=n,Un}var Ln,or;function Id(){if(or)return Ln;or=1;const t=_d(),e=kd(),n=["keyword","gray","hex"],i={};for(const p of Object.keys(e))i[[...e[p].labels].sort().join("")]=p;const r={};function s(p,m){if(!(this instanceof s))return new s(p,m);if(m&&m in n&&(m=null),m&&!(m in e))throw new Error("Unknown model: "+m);let g,b;if(p==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(p instanceof s)this.model=p.model,this.color=[...p.color],this.valpha=p.valpha;else if(typeof p=="string"){const w=t.get(p);if(w===null)throw new Error("Unable to parse color from string: "+p);this.model=w.model,b=e[this.model].channels,this.color=w.value.slice(0,b),this.valpha=typeof w.value[b]=="number"?w.value[b]:1}else if(p.length>0){this.model=m||"rgb",b=e[this.model].channels;const w=Array.prototype.slice.call(p,0,b);this.color=f(w,b),this.valpha=typeof p[b]=="number"?p[b]:1}else if(typeof p=="number")this.model="rgb",this.color=[p>>16&255,p>>8&255,p&255],this.valpha=1;else{this.valpha=1;const w=Object.keys(p);"alpha"in p&&(w.splice(w.indexOf("alpha"),1),this.valpha=typeof p.alpha=="number"?p.alpha:0);const G=w.sort().join("");if(!(G in i))throw new Error("Unable to parse color from object: "+JSON.stringify(p));this.model=i[G];const{labels:H}=e[this.model],Y=[];for(g=0;g<H.length;g++)Y.push(p[H[g]]);this.color=f(Y)}if(r[this.model])for(b=e[this.model].channels,g=0;g<b;g++){const w=r[this.model][g];w&&(this.color[g]=w(this.color[g]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}s.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(p){let m=this.model in t.to?this:this.rgb();m=m.round(typeof p=="number"?p:1);const g=m.valpha===1?m.color:[...m.color,this.valpha];return t.to[m.model](g)},percentString(p){const m=this.rgb().round(typeof p=="number"?p:1),g=m.valpha===1?m.color:[...m.color,this.valpha];return t.to.rgb.percent(g)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const p={},{channels:m}=e[this.model],{labels:g}=e[this.model];for(let b=0;b<m;b++)p[g[b]]=this.color[b];return this.valpha!==1&&(p.alpha=this.valpha),p},unitArray(){const p=this.rgb().color;return p[0]/=255,p[1]/=255,p[2]/=255,this.valpha!==1&&p.push(this.valpha),p},unitObject(){const p=this.rgb().object();return p.r/=255,p.g/=255,p.b/=255,this.valpha!==1&&(p.alpha=this.valpha),p},round(p){return p=Math.max(p||0,0),new s([...this.color.map(d(p)),this.valpha],this.model)},alpha(p){return p!==void 0?new s([...this.color,Math.max(0,Math.min(1,p))],this.model):this.valpha},red:c("rgb",0,l(255)),green:c("rgb",1,l(255)),blue:c("rgb",2,l(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,p=>(p%360+360)%360),saturationl:c("hsl",1,l(100)),lightness:c("hsl",2,l(100)),saturationv:c("hsv",1,l(100)),value:c("hsv",2,l(100)),chroma:c("hcg",1,l(100)),gray:c("hcg",2,l(100)),white:c("hwb",1,l(100)),wblack:c("hwb",2,l(100)),cyan:c("cmyk",0,l(100)),magenta:c("cmyk",1,l(100)),yellow:c("cmyk",2,l(100)),black:c("cmyk",3,l(100)),x:c("xyz",0,l(95.047)),y:c("xyz",1,l(100)),z:c("xyz",2,l(108.833)),l:c("lab",0,l(100)),a:c("lab",1),b:c("lab",2),keyword(p){return p!==void 0?new s(p):e[this.model].keyword(this.color)},hex(p){return p!==void 0?new s(p):t.to.hex(this.rgb().round().color)},hexa(p){if(p!==void 0)return new s(p);const m=this.rgb().round().color;let g=Math.round(this.valpha*255).toString(16).toUpperCase();return g.length===1&&(g="0"+g),t.to.hex(m)+g},rgbNumber(){const p=this.rgb().color;return(p[0]&255)<<16|(p[1]&255)<<8|p[2]&255},luminosity(){const p=this.rgb().color,m=[];for(const[g,b]of p.entries()){const w=b/255;m[g]=w<=.04045?w/12.92:((w+.055)/1.055)**2.4}return .2126*m[0]+.7152*m[1]+.0722*m[2]},contrast(p){const m=this.luminosity(),g=p.luminosity();return m>g?(m+.05)/(g+.05):(g+.05)/(m+.05)},level(p){const m=this.contrast(p);return m>=7?"AAA":m>=4.5?"AA":""},isDark(){const p=this.rgb().color;return(p[0]*2126+p[1]*7152+p[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const p=this.rgb();for(let m=0;m<3;m++)p.color[m]=255-p.color[m];return p},lighten(p){const m=this.hsl();return m.color[2]+=m.color[2]*p,m},darken(p){const m=this.hsl();return m.color[2]-=m.color[2]*p,m},saturate(p){const m=this.hsl();return m.color[1]+=m.color[1]*p,m},desaturate(p){const m=this.hsl();return m.color[1]-=m.color[1]*p,m},whiten(p){const m=this.hwb();return m.color[1]+=m.color[1]*p,m},blacken(p){const m=this.hwb();return m.color[2]+=m.color[2]*p,m},grayscale(){const p=this.rgb().color,m=p[0]*.3+p[1]*.59+p[2]*.11;return s.rgb(m,m,m)},fade(p){return this.alpha(this.valpha-this.valpha*p)},opaquer(p){return this.alpha(this.valpha+this.valpha*p)},rotate(p){const m=this.hsl();let g=m.color[0];return g=(g+p)%360,g=g<0?360+g:g,m.color[0]=g,m},mix(p,m){if(!p||!p.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof p);const g=p.rgb(),b=this.rgb(),w=m===void 0?.5:m,G=2*w-1,H=g.alpha()-b.alpha(),Y=((G*H===-1?G:(G+H)/(1+G*H))+1)/2,Rn=1-Y;return s.rgb(Y*g.red()+Rn*b.red(),Y*g.green()+Rn*b.green(),Y*g.blue()+Rn*b.blue(),g.alpha()*w+b.alpha()*(1-w))}};for(const p of Object.keys(e)){if(n.includes(p))continue;const{channels:m}=e[p];s.prototype[p]=function(...g){return this.model===p?new s(this):g.length>0?new s(g,p):new s([...u(e[this.model][p].raw(this.color)),this.valpha],p)},s[p]=function(...g){let b=g[0];return typeof b=="number"&&(b=f(g,m)),new s(b,p)}}function o(p,m){return Number(p.toFixed(m))}function d(p){return function(m){return o(m,p)}}function c(p,m,g){p=Array.isArray(p)?p:[p];for(const b of p)(r[b]||(r[b]=[]))[m]=g;return p=p[0],function(b){let w;return b!==void 0?(g&&(b=g(b)),w=this[p](),w.color[m]=b,w):(w=this[p]().color[m],g&&(w=g(w)),w)}}function l(p){return function(m){return Math.max(0,Math.min(p,m))}}function u(p){return Array.isArray(p)?p:[p]}function f(p,m){for(let g=0;g<m;g++)typeof p[g]!="number"&&(p[g]=0);return p}return Ln=s,Ln}var wd=Id();const as=yd(wd),jd=(t,e)=>{const n=t.hsl().round().array();return as([n[0]??0,n[1]??0,(n[2]??0)+e],"hsl")},Sd=t=>jd(as(t),10).hex(),rs=/^\S+@\S+\.\S+$/,is=/^\d+$/,ss=/^[A-Z_a-z]\w*$/,Td=/^https?:$/,Ad=/^[a-z][\d+_a-z-]*(\.[\d+_a-z-]+)+:$/,dr=/^#[\da-f]{3}([\da-f]{3})?$/i,cr=(t,e)=>{try{const{protocol:n}=new URL(t);return(e==="mobile"?Ad:Td).test(n)}catch{return!1}};var lr;(function(t){t.OpenId="openid",t.OfflineAccess="offline_access"})(lr||(lr={}));var ur;(function(t){t.Organization="urn:logto:resource:organizations"})(ur||(ur={}));var U;(function(t){t.Profile="profile",t.Email="email",t.Phone="phone",t.Address="address",t.CustomData="custom_data",t.Identities="identities",t.Roles="roles",t.Organizations="urn:logto:scope:organizations",t.OrganizationRoles="urn:logto:scope:organization_roles"})(U||(U={}));const Od=Object.freeze({[U.Profile]:["name","family_name","given_name","middle_name","nickname","preferred_username","profile","picture","website","gender","birthdate","zoneinfo","locale","updated_at","username","created_at"],[U.Email]:["email","email_verified"],[U.Phone]:["phone_number","phone_number_verified"],[U.Address]:["address"],[U.Roles]:["roles"],[U.Organizations]:["organizations"],[U.OrganizationRoles]:["organization_roles"],[U.CustomData]:[],[U.Identities]:[]}),Cd=Object.freeze({[U.Profile]:[],[U.Email]:[],[U.Phone]:[],[U.Address]:[],[U.Roles]:[],[U.Organizations]:["organization_data"],[U.OrganizationRoles]:[],[U.CustomData]:["custom_data"],[U.Identities]:["identities","sso_identities"]});Object.freeze(Object.fromEntries(Object.values(U).map(t=>[t,[...Od[t],...Cd[t]]])));const zd=t=>!!t&&["1","true","y","yes","yep","yeah"].includes(t.toLowerCase());var P;(function(t){t.assertEqual=r=>r;function e(r){}t.assertIs=e;function n(r){throw new Error}t.assertNever=n,t.arrayToEnum=r=>{const s={};for(const o of r)s[o]=o;return s},t.getValidEnumValues=r=>{const s=t.objectKeys(r).filter(d=>typeof r[r[d]]!="number"),o={};for(const d of s)o[d]=r[d];return t.objectValues(o)},t.objectValues=r=>t.objectKeys(r).map(function(s){return r[s]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const s=[];for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&s.push(o);return s},t.find=(r,s)=>{for(const o of r)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function i(r,s=" | "){return r.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=i,t.jsonStringifyReplacer=(r,s)=>typeof s=="bigint"?s.toString():s})(P||(P={}));var aa;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(aa||(aa={}));const I=P.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),be=t=>{switch(typeof t){case"undefined":return I.undefined;case"string":return I.string;case"number":return isNaN(t)?I.nan:I.number;case"boolean":return I.boolean;case"function":return I.function;case"bigint":return I.bigint;case"symbol":return I.symbol;case"object":return Array.isArray(t)?I.array:t===null?I.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?I.promise:typeof Map<"u"&&t instanceof Map?I.map:typeof Set<"u"&&t instanceof Set?I.set:typeof Date<"u"&&t instanceof Date?I.date:I.object;default:return I.unknown}},v=P.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ed=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class W extends Error{constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},i={_errors:[]},r=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(r);else if(o.code==="invalid_return_type")r(o.returnTypeError);else if(o.code==="invalid_arguments")r(o.argumentsError);else if(o.path.length===0)i._errors.push(n(o));else{let d=i,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(d[l]=d[l]||{_errors:[]},d[l]._errors.push(n(o))):d[l]=d[l]||{_errors:[]},d=d[l],c++}}};return r(this),i}static assert(e){if(!(e instanceof W))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,P.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},i=[];for(const r of this.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(e(r))):i.push(e(r));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}W.create=t=>new W(t);const He=(t,e)=>{let n;switch(t.code){case v.invalid_type:t.received===I.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case v.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,P.jsonStringifyReplacer)}`;break;case v.unrecognized_keys:n=`Unrecognized key(s) in object: ${P.joinValues(t.keys,", ")}`;break;case v.invalid_union:n="Invalid input";break;case v.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${P.joinValues(t.options)}`;break;case v.invalid_enum_value:n=`Invalid enum value. Expected ${P.joinValues(t.options)}, received '${t.received}'`;break;case v.invalid_arguments:n="Invalid function arguments";break;case v.invalid_return_type:n="Invalid function return type";break;case v.invalid_date:n="Invalid date";break;case v.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:P.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case v.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case v.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case v.custom:n="Invalid input";break;case v.invalid_intersection_types:n="Intersection results could not be merged";break;case v.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case v.not_finite:n="Number must be finite";break;default:n=e.defaultError,P.assertNever(t)}return{message:n}};let os=He;function Rd(t){os=t}function sn(){return os}const on=t=>{const{data:e,path:n,errorMaps:i,issueData:r}=t,s=[...n,...r.path||[]],o={...r,path:s};if(r.message!==void 0)return{...r,path:s,message:r.message};let d="";const c=i.filter(l=>!!l).slice().reverse();for(const l of c)d=l(o,{data:e,defaultError:d}).message;return{...r,path:s,message:d}},$d=[];function x(t,e){const n=sn(),i=on({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===He?void 0:He].filter(r=>!!r)});t.common.issues.push(i)}class L{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const i=[];for(const r of n){if(r.status==="aborted")return C;r.status==="dirty"&&e.dirty(),i.push(r.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,n){const i=[];for(const r of n){const s=await r.key,o=await r.value;i.push({key:s,value:o})}return L.mergeObjectSync(e,i)}static mergeObjectSync(e,n){const i={};for(const r of n){const{key:s,value:o}=r;if(s.status==="aborted"||o.status==="aborted")return C;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||r.alwaysSet)&&(i[s.value]=o.value)}return{status:e.value,value:i}}}const C=Object.freeze({status:"aborted"}),Me=t=>({status:"dirty",value:t}),B=t=>({status:"valid",value:t}),ra=t=>t.status==="aborted",ia=t=>t.status==="dirty",Tt=t=>t.status==="valid",At=t=>typeof Promise<"u"&&t instanceof Promise;function dn(t,e,n,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function ds(t,e,n,i,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var S;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(S||(S={}));var ot,dt;class ce{constructor(e,n,i,r){this._cachedPath=[],this.parent=e,this.data=n,this._path=i,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const pr=(t,e)=>{if(Tt(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new W(t.common.issues);return this._error=n,this._error}}};function E(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:i,description:r}=t;if(e&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(o,d)=>{var c,l;const{message:u}=t;return o.code==="invalid_enum_value"?{message:u??d.defaultError}:typeof d.data>"u"?{message:(c=u??i)!==null&&c!==void 0?c:d.defaultError}:o.code!=="invalid_type"?{message:d.defaultError}:{message:(l=u??n)!==null&&l!==void 0?l:d.defaultError}},description:r}}class ${constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return be(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:be(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new L,ctx:{common:e.parent.common,data:e.data,parsedType:be(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(At(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const i=this.safeParse(e,n);if(i.success)return i.data;throw i.error}safeParse(e,n){var i;const r={common:{issues:[],async:(i=n==null?void 0:n.async)!==null&&i!==void 0?i:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:be(e)},s=this._parseSync({data:e,path:r.path,parent:r});return pr(r,s)}async parseAsync(e,n){const i=await this.safeParseAsync(e,n);if(i.success)return i.data;throw i.error}async safeParseAsync(e,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:be(e)},r=this._parse({data:e,path:i.path,parent:i}),s=await(At(r)?r:Promise.resolve(r));return pr(i,s)}refine(e,n){const i=r=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(r):n;return this._refinement((r,s)=>{const o=e(r),d=()=>s.addIssue({code:v.custom,...i(r)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(d(),!1)):o?!0:(d(),!1)})}refinement(e,n){return this._refinement((i,r)=>e(i)?!0:(r.addIssue(typeof n=="function"?n(i,r):n),!1))}_refinement(e){return new ie({schema:this,typeName:A.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return oe.create(this,this._def)}nullable(){return je.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ae.create(this,this._def)}promise(){return Qe.create(this,this._def)}or(e){return Et.create([this,e],this._def)}and(e){return Rt.create(this,e,this._def)}transform(e){return new ie({...E(this._def),schema:this,typeName:A.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Mt({...E(this._def),innerType:this,defaultValue:n,typeName:A.ZodDefault})}brand(){return new Pa({typeName:A.ZodBranded,type:this,...E(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Gt({...E(this._def),innerType:this,catchValue:n,typeName:A.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Bt.create(this,e)}readonly(){return Dt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Zd=/^c[^\s-]{8,}$/i,Pd=/^[0-9a-z]+$/,Nd=/^[0-9A-HJKMNP-TV-Z]{26}$/,Md=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Gd=/^[a-z0-9_-]{21}$/i,Dd=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ud=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ld="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Vn;const Vd=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,qd=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Fd=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,cs="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Bd=new RegExp(`^${cs}$`);function ls(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Kd(t){return new RegExp(`^${ls(t)}$`)}function us(t){let e=`${cs}T${ls(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Wd(t,e){return!!((e==="v4"||!e)&&Vd.test(t)||(e==="v6"||!e)&&qd.test(t))}class te extends ${_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==I.string){const s=this._getOrReturnCtx(e);return x(s,{code:v.invalid_type,expected:I.string,received:s.parsedType}),C}const i=new L;let r;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(r=this._getOrReturnCtx(e,r),x(r,{code:v.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="max")e.data.length>s.value&&(r=this._getOrReturnCtx(e,r),x(r,{code:v.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,d=e.data.length<s.value;(o||d)&&(r=this._getOrReturnCtx(e,r),o?x(r,{code:v.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):d&&x(r,{code:v.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),i.dirty())}else if(s.kind==="email")Ud.test(e.data)||(r=this._getOrReturnCtx(e,r),x(r,{validation:"email",code:v.invalid_string,message:s.message}),i.dirty());else if(s.kind==="emoji")Vn||(Vn=new RegExp(Ld,"u")),Vn.test(e.data)||(r=this._getOrReturnCtx(e,r),x(r,{validation:"emoji",code:v.invalid_string,message:s.message}),i.dirty());else if(s.kind==="uuid")Md.test(e.data)||(r=this._getOrReturnCtx(e,r),x(r,{validation:"uuid",code:v.invalid_string,message:s.message}),i.dirty());else if(s.kind==="nanoid")Gd.test(e.data)||(r=this._getOrReturnCtx(e,r),x(r,{validation:"nanoid",code:v.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid")Zd.test(e.data)||(r=this._getOrReturnCtx(e,r),x(r,{validation:"cuid",code:v.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid2")Pd.test(e.data)||(r=this._getOrReturnCtx(e,r),x(r,{validation:"cuid2",code:v.invalid_string,message:s.message}),i.dirty());else if(s.kind==="ulid")Nd.test(e.data)||(r=this._getOrReturnCtx(e,r),x(r,{validation:"ulid",code:v.invalid_string,message:s.message}),i.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),x(r,{validation:"url",code:v.invalid_string,message:s.message}),i.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),x(r,{validation:"regex",code:v.invalid_string,message:s.message}),i.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(r=this._getOrReturnCtx(e,r),x(r,{code:v.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),i.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(r=this._getOrReturnCtx(e,r),x(r,{code:v.invalid_string,validation:{startsWith:s.value},message:s.message}),i.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(r=this._getOrReturnCtx(e,r),x(r,{code:v.invalid_string,validation:{endsWith:s.value},message:s.message}),i.dirty()):s.kind==="datetime"?us(s).test(e.data)||(r=this._getOrReturnCtx(e,r),x(r,{code:v.invalid_string,validation:"datetime",message:s.message}),i.dirty()):s.kind==="date"?Bd.test(e.data)||(r=this._getOrReturnCtx(e,r),x(r,{code:v.invalid_string,validation:"date",message:s.message}),i.dirty()):s.kind==="time"?Kd(s).test(e.data)||(r=this._getOrReturnCtx(e,r),x(r,{code:v.invalid_string,validation:"time",message:s.message}),i.dirty()):s.kind==="duration"?Dd.test(e.data)||(r=this._getOrReturnCtx(e,r),x(r,{validation:"duration",code:v.invalid_string,message:s.message}),i.dirty()):s.kind==="ip"?Wd(e.data,s.version)||(r=this._getOrReturnCtx(e,r),x(r,{validation:"ip",code:v.invalid_string,message:s.message}),i.dirty()):s.kind==="base64"?Fd.test(e.data)||(r=this._getOrReturnCtx(e,r),x(r,{validation:"base64",code:v.invalid_string,message:s.message}),i.dirty()):P.assertNever(s);return{status:i.value,value:e.data}}_regex(e,n,i){return this.refinement(r=>e.test(r),{validation:n,code:v.invalid_string,...S.errToObj(i)})}_addCheck(e){return new te({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...S.errToObj(e)})}url(e){return this._addCheck({kind:"url",...S.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...S.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...S.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...S.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...S.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...S.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...S.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...S.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...S.errToObj(e)})}datetime(e){var n,i;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(i=e==null?void 0:e.local)!==null&&i!==void 0?i:!1,...S.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...S.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...S.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...S.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...S.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...S.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...S.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...S.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...S.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...S.errToObj(n)})}nonempty(e){return this.min(1,S.errToObj(e))}trim(){return new te({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new te({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new te({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}te.create=t=>{var e;return new te({checks:[],typeName:A.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...E(t)})};function Jd(t,e){const n=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,r=n>i?n:i,s=parseInt(t.toFixed(r).replace(".","")),o=parseInt(e.toFixed(r).replace(".",""));return s%o/Math.pow(10,r)}class ke extends ${constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==I.number){const s=this._getOrReturnCtx(e);return x(s,{code:v.invalid_type,expected:I.number,received:s.parsedType}),C}let i;const r=new L;for(const s of this._def.checks)s.kind==="int"?P.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),x(i,{code:v.invalid_type,expected:"integer",received:"float",message:s.message}),r.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),x(i,{code:v.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),x(i,{code:v.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),r.dirty()):s.kind==="multipleOf"?Jd(e.data,s.value)!==0&&(i=this._getOrReturnCtx(e,i),x(i,{code:v.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),x(i,{code:v.not_finite,message:s.message}),r.dirty()):P.assertNever(s);return{status:r.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,S.toString(n))}gt(e,n){return this.setLimit("min",e,!1,S.toString(n))}lte(e,n){return this.setLimit("max",e,!0,S.toString(n))}lt(e,n){return this.setLimit("max",e,!1,S.toString(n))}setLimit(e,n,i,r){return new ke({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:S.toString(r)}]})}_addCheck(e){return new ke({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:S.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:S.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:S.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:S.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:S.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:S.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:S.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:S.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:S.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&P.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ke.create=t=>new ke({checks:[],typeName:A.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...E(t)});class Ie extends ${constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==I.bigint){const s=this._getOrReturnCtx(e);return x(s,{code:v.invalid_type,expected:I.bigint,received:s.parsedType}),C}let i;const r=new L;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),x(i,{code:v.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),x(i,{code:v.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),r.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),x(i,{code:v.not_multiple_of,multipleOf:s.value,message:s.message}),r.dirty()):P.assertNever(s);return{status:r.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,S.toString(n))}gt(e,n){return this.setLimit("min",e,!1,S.toString(n))}lte(e,n){return this.setLimit("max",e,!0,S.toString(n))}lt(e,n){return this.setLimit("max",e,!1,S.toString(n))}setLimit(e,n,i,r){return new Ie({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:S.toString(r)}]})}_addCheck(e){return new Ie({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:S.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:S.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:S.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:S.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:S.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ie.create=t=>{var e;return new Ie({checks:[],typeName:A.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...E(t)})};class Ot extends ${_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==I.boolean){const i=this._getOrReturnCtx(e);return x(i,{code:v.invalid_type,expected:I.boolean,received:i.parsedType}),C}return B(e.data)}}Ot.create=t=>new Ot({typeName:A.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...E(t)});class ze extends ${_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==I.date){const s=this._getOrReturnCtx(e);return x(s,{code:v.invalid_type,expected:I.date,received:s.parsedType}),C}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return x(s,{code:v.invalid_date}),C}const i=new L;let r;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(r=this._getOrReturnCtx(e,r),x(r,{code:v.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),i.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(r=this._getOrReturnCtx(e,r),x(r,{code:v.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),i.dirty()):P.assertNever(s);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ze({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:S.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:S.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}ze.create=t=>new ze({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:A.ZodDate,...E(t)});class cn extends ${_parse(e){if(this._getType(e)!==I.symbol){const i=this._getOrReturnCtx(e);return x(i,{code:v.invalid_type,expected:I.symbol,received:i.parsedType}),C}return B(e.data)}}cn.create=t=>new cn({typeName:A.ZodSymbol,...E(t)});class Ct extends ${_parse(e){if(this._getType(e)!==I.undefined){const i=this._getOrReturnCtx(e);return x(i,{code:v.invalid_type,expected:I.undefined,received:i.parsedType}),C}return B(e.data)}}Ct.create=t=>new Ct({typeName:A.ZodUndefined,...E(t)});class zt extends ${_parse(e){if(this._getType(e)!==I.null){const i=this._getOrReturnCtx(e);return x(i,{code:v.invalid_type,expected:I.null,received:i.parsedType}),C}return B(e.data)}}zt.create=t=>new zt({typeName:A.ZodNull,...E(t)});class Ye extends ${constructor(){super(...arguments),this._any=!0}_parse(e){return B(e.data)}}Ye.create=t=>new Ye({typeName:A.ZodAny,...E(t)});class Ae extends ${constructor(){super(...arguments),this._unknown=!0}_parse(e){return B(e.data)}}Ae.create=t=>new Ae({typeName:A.ZodUnknown,...E(t)});class ye extends ${_parse(e){const n=this._getOrReturnCtx(e);return x(n,{code:v.invalid_type,expected:I.never,received:n.parsedType}),C}}ye.create=t=>new ye({typeName:A.ZodNever,...E(t)});class ln extends ${_parse(e){if(this._getType(e)!==I.undefined){const i=this._getOrReturnCtx(e);return x(i,{code:v.invalid_type,expected:I.void,received:i.parsedType}),C}return B(e.data)}}ln.create=t=>new ln({typeName:A.ZodVoid,...E(t)});class ae extends ${_parse(e){const{ctx:n,status:i}=this._processInputParams(e),r=this._def;if(n.parsedType!==I.array)return x(n,{code:v.invalid_type,expected:I.array,received:n.parsedType}),C;if(r.exactLength!==null){const o=n.data.length>r.exactLength.value,d=n.data.length<r.exactLength.value;(o||d)&&(x(n,{code:o?v.too_big:v.too_small,minimum:d?r.exactLength.value:void 0,maximum:o?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),i.dirty())}if(r.minLength!==null&&n.data.length<r.minLength.value&&(x(n,{code:v.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),i.dirty()),r.maxLength!==null&&n.data.length>r.maxLength.value&&(x(n,{code:v.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((o,d)=>r.type._parseAsync(new ce(n,o,n.path,d)))).then(o=>L.mergeArray(i,o));const s=[...n.data].map((o,d)=>r.type._parseSync(new ce(n,o,n.path,d)));return L.mergeArray(i,s)}get element(){return this._def.type}min(e,n){return new ae({...this._def,minLength:{value:e,message:S.toString(n)}})}max(e,n){return new ae({...this._def,maxLength:{value:e,message:S.toString(n)}})}length(e,n){return new ae({...this._def,exactLength:{value:e,message:S.toString(n)}})}nonempty(e){return this.min(1,e)}}ae.create=(t,e)=>new ae({type:t,minLength:null,maxLength:null,exactLength:null,typeName:A.ZodArray,...E(e)});function Ze(t){if(t instanceof D){const e={};for(const n in t.shape){const i=t.shape[n];e[n]=oe.create(Ze(i))}return new D({...t._def,shape:()=>e})}else return t instanceof ae?new ae({...t._def,type:Ze(t.element)}):t instanceof oe?oe.create(Ze(t.unwrap())):t instanceof je?je.create(Ze(t.unwrap())):t instanceof le?le.create(t.items.map(e=>Ze(e))):t}class D extends ${constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=P.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==I.object){const l=this._getOrReturnCtx(e);return x(l,{code:v.invalid_type,expected:I.object,received:l.parsedType}),C}const{status:i,ctx:r}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),d=[];if(!(this._def.catchall instanceof ye&&this._def.unknownKeys==="strip"))for(const l in r.data)o.includes(l)||d.push(l);const c=[];for(const l of o){const u=s[l],f=r.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new ce(r,f,r.path,l)),alwaysSet:l in r.data})}if(this._def.catchall instanceof ye){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of d)c.push({key:{status:"valid",value:u},value:{status:"valid",value:r.data[u]}});else if(l==="strict")d.length>0&&(x(r,{code:v.unrecognized_keys,keys:d}),i.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of d){const f=r.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new ce(r,f,r.path,u)),alwaysSet:u in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const f=await u.key,p=await u.value;l.push({key:f,value:p,alwaysSet:u.alwaysSet})}return l}).then(l=>L.mergeObjectSync(i,l)):L.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(e){return S.errToObj,new D({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,i)=>{var r,s,o,d;const c=(o=(s=(r=this._def).errorMap)===null||s===void 0?void 0:s.call(r,n,i).message)!==null&&o!==void 0?o:i.defaultError;return n.code==="unrecognized_keys"?{message:(d=S.errToObj(e).message)!==null&&d!==void 0?d:c}:{message:c}}}:{}})}strip(){return new D({...this._def,unknownKeys:"strip"})}passthrough(){return new D({...this._def,unknownKeys:"passthrough"})}extend(e){return new D({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new D({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:A.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new D({...this._def,catchall:e})}pick(e){const n={};return P.objectKeys(e).forEach(i=>{e[i]&&this.shape[i]&&(n[i]=this.shape[i])}),new D({...this._def,shape:()=>n})}omit(e){const n={};return P.objectKeys(this.shape).forEach(i=>{e[i]||(n[i]=this.shape[i])}),new D({...this._def,shape:()=>n})}deepPartial(){return Ze(this)}partial(e){const n={};return P.objectKeys(this.shape).forEach(i=>{const r=this.shape[i];e&&!e[i]?n[i]=r:n[i]=r.optional()}),new D({...this._def,shape:()=>n})}required(e){const n={};return P.objectKeys(this.shape).forEach(i=>{if(e&&!e[i])n[i]=this.shape[i];else{let s=this.shape[i];for(;s instanceof oe;)s=s._def.innerType;n[i]=s}}),new D({...this._def,shape:()=>n})}keyof(){return ps(P.objectKeys(this.shape))}}D.create=(t,e)=>new D({shape:()=>t,unknownKeys:"strip",catchall:ye.create(),typeName:A.ZodObject,...E(e)});D.strictCreate=(t,e)=>new D({shape:()=>t,unknownKeys:"strict",catchall:ye.create(),typeName:A.ZodObject,...E(e)});D.lazycreate=(t,e)=>new D({shape:t,unknownKeys:"strip",catchall:ye.create(),typeName:A.ZodObject,...E(e)});class Et extends ${_parse(e){const{ctx:n}=this._processInputParams(e),i=this._def.options;function r(s){for(const d of s)if(d.result.status==="valid")return d.result;for(const d of s)if(d.result.status==="dirty")return n.common.issues.push(...d.ctx.common.issues),d.result;const o=s.map(d=>new W(d.ctx.common.issues));return x(n,{code:v.invalid_union,unionErrors:o}),C}if(n.common.async)return Promise.all(i.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(r);{let s;const o=[];for(const c of i){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const d=o.map(c=>new W(c));return x(n,{code:v.invalid_union,unionErrors:d}),C}}get options(){return this._def.options}}Et.create=(t,e)=>new Et({options:t,typeName:A.ZodUnion,...E(e)});const pe=t=>t instanceof Zt?pe(t.schema):t instanceof ie?pe(t.innerType()):t instanceof Pt?[t.value]:t instanceof we?t.options:t instanceof Nt?P.objectValues(t.enum):t instanceof Mt?pe(t._def.innerType):t instanceof Ct?[void 0]:t instanceof zt?[null]:t instanceof oe?[void 0,...pe(t.unwrap())]:t instanceof je?[null,...pe(t.unwrap())]:t instanceof Pa||t instanceof Dt?pe(t.unwrap()):t instanceof Gt?pe(t._def.innerType):[];class Cn extends ${_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==I.object)return x(n,{code:v.invalid_type,expected:I.object,received:n.parsedType}),C;const i=this.discriminator,r=n.data[i],s=this.optionsMap.get(r);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(x(n,{code:v.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),C)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,i){const r=new Map;for(const s of n){const o=pe(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const d of o){if(r.has(d))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(d)}`);r.set(d,s)}}return new Cn({typeName:A.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:r,...E(i)})}}function sa(t,e){const n=be(t),i=be(e);if(t===e)return{valid:!0,data:t};if(n===I.object&&i===I.object){const r=P.objectKeys(e),s=P.objectKeys(t).filter(d=>r.indexOf(d)!==-1),o={...t,...e};for(const d of s){const c=sa(t[d],e[d]);if(!c.valid)return{valid:!1};o[d]=c.data}return{valid:!0,data:o}}else if(n===I.array&&i===I.array){if(t.length!==e.length)return{valid:!1};const r=[];for(let s=0;s<t.length;s++){const o=t[s],d=e[s],c=sa(o,d);if(!c.valid)return{valid:!1};r.push(c.data)}return{valid:!0,data:r}}else return n===I.date&&i===I.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Rt extends ${_parse(e){const{status:n,ctx:i}=this._processInputParams(e),r=(s,o)=>{if(ra(s)||ra(o))return C;const d=sa(s.value,o.value);return d.valid?((ia(s)||ia(o))&&n.dirty(),{status:n.value,value:d.data}):(x(i,{code:v.invalid_intersection_types}),C)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([s,o])=>r(s,o)):r(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Rt.create=(t,e,n)=>new Rt({left:t,right:e,typeName:A.ZodIntersection,...E(n)});class le extends ${_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==I.array)return x(i,{code:v.invalid_type,expected:I.array,received:i.parsedType}),C;if(i.data.length<this._def.items.length)return x(i,{code:v.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),C;!this._def.rest&&i.data.length>this._def.items.length&&(x(i,{code:v.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...i.data].map((o,d)=>{const c=this._def.items[d]||this._def.rest;return c?c._parse(new ce(i,o,i.path,d)):null}).filter(o=>!!o);return i.common.async?Promise.all(s).then(o=>L.mergeArray(n,o)):L.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new le({...this._def,rest:e})}}le.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new le({items:t,typeName:A.ZodTuple,rest:null,...E(e)})};class $t extends ${get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==I.object)return x(i,{code:v.invalid_type,expected:I.object,received:i.parsedType}),C;const r=[],s=this._def.keyType,o=this._def.valueType;for(const d in i.data)r.push({key:s._parse(new ce(i,d,i.path,d)),value:o._parse(new ce(i,i.data[d],i.path,d)),alwaysSet:d in i.data});return i.common.async?L.mergeObjectAsync(n,r):L.mergeObjectSync(n,r)}get element(){return this._def.valueType}static create(e,n,i){return n instanceof $?new $t({keyType:e,valueType:n,typeName:A.ZodRecord,...E(i)}):new $t({keyType:te.create(),valueType:e,typeName:A.ZodRecord,...E(n)})}}class un extends ${get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==I.map)return x(i,{code:v.invalid_type,expected:I.map,received:i.parsedType}),C;const r=this._def.keyType,s=this._def.valueType,o=[...i.data.entries()].map(([d,c],l)=>({key:r._parse(new ce(i,d,i.path,[l,"key"])),value:s._parse(new ce(i,c,i.path,[l,"value"]))}));if(i.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return C;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),d.set(l.value,u.value)}return{status:n.value,value:d}})}else{const d=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return C;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),d.set(l.value,u.value)}return{status:n.value,value:d}}}}un.create=(t,e,n)=>new un({valueType:e,keyType:t,typeName:A.ZodMap,...E(n)});class Ee extends ${_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==I.set)return x(i,{code:v.invalid_type,expected:I.set,received:i.parsedType}),C;const r=this._def;r.minSize!==null&&i.data.size<r.minSize.value&&(x(i,{code:v.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),n.dirty()),r.maxSize!==null&&i.data.size>r.maxSize.value&&(x(i,{code:v.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return C;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const d=[...i.data.values()].map((c,l)=>s._parse(new ce(i,c,i.path,l)));return i.common.async?Promise.all(d).then(c=>o(c)):o(d)}min(e,n){return new Ee({...this._def,minSize:{value:e,message:S.toString(n)}})}max(e,n){return new Ee({...this._def,maxSize:{value:e,message:S.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ee.create=(t,e)=>new Ee({valueType:t,minSize:null,maxSize:null,typeName:A.ZodSet,...E(e)});class Ue extends ${constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==I.function)return x(n,{code:v.invalid_type,expected:I.function,received:n.parsedType}),C;function i(d,c){return on({data:d,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,sn(),He].filter(l=>!!l),issueData:{code:v.invalid_arguments,argumentsError:c}})}function r(d,c){return on({data:d,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,sn(),He].filter(l=>!!l),issueData:{code:v.invalid_return_type,returnTypeError:c}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Qe){const d=this;return B(async function(...c){const l=new W([]),u=await d._def.args.parseAsync(c,s).catch(m=>{throw l.addIssue(i(c,m)),l}),f=await Reflect.apply(o,this,u);return await d._def.returns._def.type.parseAsync(f,s).catch(m=>{throw l.addIssue(r(f,m)),l})})}else{const d=this;return B(function(...c){const l=d._def.args.safeParse(c,s);if(!l.success)throw new W([i(c,l.error)]);const u=Reflect.apply(o,this,l.data),f=d._def.returns.safeParse(u,s);if(!f.success)throw new W([r(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ue({...this._def,args:le.create(e).rest(Ae.create())})}returns(e){return new Ue({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,i){return new Ue({args:e||le.create([]).rest(Ae.create()),returns:n||Ae.create(),typeName:A.ZodFunction,...E(i)})}}class Zt extends ${get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Zt.create=(t,e)=>new Zt({getter:t,typeName:A.ZodLazy,...E(e)});class Pt extends ${_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return x(n,{received:n.data,code:v.invalid_literal,expected:this._def.value}),C}return{status:"valid",value:e.data}}get value(){return this._def.value}}Pt.create=(t,e)=>new Pt({value:t,typeName:A.ZodLiteral,...E(e)});function ps(t,e){return new we({values:t,typeName:A.ZodEnum,...E(e)})}class we extends ${constructor(){super(...arguments),ot.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),i=this._def.values;return x(n,{expected:P.joinValues(i),received:n.parsedType,code:v.invalid_type}),C}if(dn(this,ot)||ds(this,ot,new Set(this._def.values)),!dn(this,ot).has(e.data)){const n=this._getOrReturnCtx(e),i=this._def.values;return x(n,{received:n.data,code:v.invalid_enum_value,options:i}),C}return B(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return we.create(e,{...this._def,...n})}exclude(e,n=this._def){return we.create(this.options.filter(i=>!e.includes(i)),{...this._def,...n})}}ot=new WeakMap;we.create=ps;class Nt extends ${constructor(){super(...arguments),dt.set(this,void 0)}_parse(e){const n=P.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==I.string&&i.parsedType!==I.number){const r=P.objectValues(n);return x(i,{expected:P.joinValues(r),received:i.parsedType,code:v.invalid_type}),C}if(dn(this,dt)||ds(this,dt,new Set(P.getValidEnumValues(this._def.values))),!dn(this,dt).has(e.data)){const r=P.objectValues(n);return x(i,{received:i.data,code:v.invalid_enum_value,options:r}),C}return B(e.data)}get enum(){return this._def.values}}dt=new WeakMap;Nt.create=(t,e)=>new Nt({values:t,typeName:A.ZodNativeEnum,...E(e)});class Qe extends ${unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==I.promise&&n.common.async===!1)return x(n,{code:v.invalid_type,expected:I.promise,received:n.parsedType}),C;const i=n.parsedType===I.promise?n.data:Promise.resolve(n.data);return B(i.then(r=>this._def.type.parseAsync(r,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Qe.create=(t,e)=>new Qe({type:t,typeName:A.ZodPromise,...E(e)});class ie extends ${innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===A.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:i}=this._processInputParams(e),r=this._def.effect||null,s={addIssue:o=>{x(i,o),o.fatal?n.abort():n.dirty()},get path(){return i.path}};if(s.addIssue=s.addIssue.bind(s),r.type==="preprocess"){const o=r.transform(i.data,s);if(i.common.async)return Promise.resolve(o).then(async d=>{if(n.value==="aborted")return C;const c=await this._def.schema._parseAsync({data:d,path:i.path,parent:i});return c.status==="aborted"?C:c.status==="dirty"||n.value==="dirty"?Me(c.value):c});{if(n.value==="aborted")return C;const d=this._def.schema._parseSync({data:o,path:i.path,parent:i});return d.status==="aborted"?C:d.status==="dirty"||n.value==="dirty"?Me(d.value):d}}if(r.type==="refinement"){const o=d=>{const c=r.refinement(d,s);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(i.common.async===!1){const d=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return d.status==="aborted"?C:(d.status==="dirty"&&n.dirty(),o(d.value),{status:n.value,value:d.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(d=>d.status==="aborted"?C:(d.status==="dirty"&&n.dirty(),o(d.value).then(()=>({status:n.value,value:d.value}))))}if(r.type==="transform")if(i.common.async===!1){const o=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Tt(o))return o;const d=r.transform(o.value,s);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:d}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(o=>Tt(o)?Promise.resolve(r.transform(o.value,s)).then(d=>({status:n.value,value:d})):o);P.assertNever(r)}}ie.create=(t,e,n)=>new ie({schema:t,typeName:A.ZodEffects,effect:e,...E(n)});ie.createWithPreprocess=(t,e,n)=>new ie({schema:e,effect:{type:"preprocess",transform:t},typeName:A.ZodEffects,...E(n)});class oe extends ${_parse(e){return this._getType(e)===I.undefined?B(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}oe.create=(t,e)=>new oe({innerType:t,typeName:A.ZodOptional,...E(e)});class je extends ${_parse(e){return this._getType(e)===I.null?B(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}je.create=(t,e)=>new je({innerType:t,typeName:A.ZodNullable,...E(e)});class Mt extends ${_parse(e){const{ctx:n}=this._processInputParams(e);let i=n.data;return n.parsedType===I.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Mt.create=(t,e)=>new Mt({innerType:t,typeName:A.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...E(e)});class Gt extends ${_parse(e){const{ctx:n}=this._processInputParams(e),i={...n,common:{...n.common,issues:[]}},r=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return At(r)?r.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new W(i.common.issues)},input:i.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new W(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}Gt.create=(t,e)=>new Gt({innerType:t,typeName:A.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...E(e)});class pn extends ${_parse(e){if(this._getType(e)!==I.nan){const i=this._getOrReturnCtx(e);return x(i,{code:v.invalid_type,expected:I.nan,received:i.parsedType}),C}return{status:"valid",value:e.data}}}pn.create=t=>new pn({typeName:A.ZodNaN,...E(t)});const Hd=Symbol("zod_brand");class Pa extends ${_parse(e){const{ctx:n}=this._processInputParams(e),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class Bt extends ${_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?C:s.status==="dirty"?(n.dirty(),Me(s.value)):this._def.out._parseAsync({data:s.value,path:i.path,parent:i})})();{const r=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return r.status==="aborted"?C:r.status==="dirty"?(n.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:i.path,parent:i})}}static create(e,n){return new Bt({in:e,out:n,typeName:A.ZodPipeline})}}class Dt extends ${_parse(e){const n=this._def.innerType._parse(e),i=r=>(Tt(r)&&(r.value=Object.freeze(r.value)),r);return At(n)?n.then(r=>i(r)):i(n)}unwrap(){return this._def.innerType}}Dt.create=(t,e)=>new Dt({innerType:t,typeName:A.ZodReadonly,...E(e)});function ms(t,e={},n){return t?Ye.create().superRefine((i,r)=>{var s,o;if(!t(i)){const d=typeof e=="function"?e(i):typeof e=="string"?{message:e}:e,c=(o=(s=d.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,l=typeof d=="string"?{message:d}:d;r.addIssue({code:"custom",...l,fatal:c})}}):Ye.create()}const Yd={object:D.lazycreate};var A;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(A||(A={}));const Qd=(t,e={message:`Input not instance of ${t.name}`})=>ms(n=>n instanceof t,e),fs=te.create,hs=ke.create,Xd=pn.create,ec=Ie.create,gs=Ot.create,tc=ze.create,nc=cn.create,ac=Ct.create,rc=zt.create,ic=Ye.create,sc=Ae.create,oc=ye.create,dc=ln.create,cc=ae.create,lc=D.create,uc=D.strictCreate,pc=Et.create,mc=Cn.create,fc=Rt.create,hc=le.create,gc=$t.create,yc=un.create,vc=Ee.create,bc=Ue.create,_c=Zt.create,xc=Pt.create,kc=we.create,Ic=Nt.create,wc=Qe.create,mr=ie.create,jc=oe.create,Sc=je.create,Tc=ie.createWithPreprocess,Ac=Bt.create,Oc=()=>fs().optional(),Cc=()=>hs().optional(),zc=()=>gs().optional(),Ec={string:(t=>te.create({...t,coerce:!0})),number:(t=>ke.create({...t,coerce:!0})),boolean:(t=>Ot.create({...t,coerce:!0})),bigint:(t=>Ie.create({...t,coerce:!0})),date:(t=>ze.create({...t,coerce:!0}))},Rc=C;var h=Object.freeze({__proto__:null,defaultErrorMap:He,setErrorMap:Rd,getErrorMap:sn,makeIssue:on,EMPTY_PATH:$d,addIssueToContext:x,ParseStatus:L,INVALID:C,DIRTY:Me,OK:B,isAborted:ra,isDirty:ia,isValid:Tt,isAsync:At,get util(){return P},get objectUtil(){return aa},ZodParsedType:I,getParsedType:be,ZodType:$,datetimeRegex:us,ZodString:te,ZodNumber:ke,ZodBigInt:Ie,ZodBoolean:Ot,ZodDate:ze,ZodSymbol:cn,ZodUndefined:Ct,ZodNull:zt,ZodAny:Ye,ZodUnknown:Ae,ZodNever:ye,ZodVoid:ln,ZodArray:ae,ZodObject:D,ZodUnion:Et,ZodDiscriminatedUnion:Cn,ZodIntersection:Rt,ZodTuple:le,ZodRecord:$t,ZodMap:un,ZodSet:Ee,ZodFunction:Ue,ZodLazy:Zt,ZodLiteral:Pt,ZodEnum:we,ZodNativeEnum:Nt,ZodPromise:Qe,ZodEffects:ie,ZodTransformer:ie,ZodOptional:oe,ZodNullable:je,ZodDefault:Mt,ZodCatch:Gt,ZodNaN:pn,BRAND:Hd,ZodBranded:Pa,ZodPipeline:Bt,ZodReadonly:Dt,custom:ms,Schema:$,ZodSchema:$,late:Yd,get ZodFirstPartyTypeKind(){return A},coerce:Ec,any:ic,array:cc,bigint:ec,boolean:gs,date:tc,discriminatedUnion:mc,effect:mr,enum:kc,function:bc,instanceof:Qd,intersection:fc,lazy:_c,literal:xc,map:yc,nan:Xd,nativeEnum:Ic,never:oc,null:rc,nullable:Sc,number:hs,object:lc,oboolean:zc,onumber:Cc,optional:jc,ostring:Oc,pipeline:Ac,preprocess:Tc,promise:wc,record:gc,set:vc,strictObject:uc,string:fs,symbol:nc,transformer:mr,tuple:hc,undefined:ac,union:pc,unknown:sc,void:dc,NEVER:Rc,ZodIssueCode:v,quotelessJson:Ed,ZodError:W}),$c={};const ys=()=>zd($c.INTEGRATION_TEST),Zc=()=>{if(!ys())throw new Error("This function should only be called in integration tests");return Object.freeze(["123456aA","test_password"])},vs=h.object({length:h.object({min:h.number().int().min(1).default(8),max:h.number().int().min(1).default(256)}).default({}),characterTypes:h.object({min:h.number().int().min(1).max(4).optional().default(1)}).default({}),rejects:h.object({pwned:h.boolean().default(!0),repetitionAndSequence:h.boolean().default(!0),userInfo:h.boolean().default(!0),words:h.string().array().default([])}).default({})}),Q=class Q{static getRestrictedPhraseThreshold(e){const{restrictedPhrasesTolerance:n}=Q;return Math.max(1,e.length-n)}constructor(e,n=crypto.subtle){this.subtle=n,this.policy=vs.parse(e)}async check(e,n){const i=this.fastCheck(e);this.policy.rejects.pwned&&await this.hasBeenPwned(e)&&i.push({code:"password_rejected.pwned"});const r=Array.from({length:e.length}).fill(0),s=new Set,{repetitionAndSequence:o,words:d,userInfo:c}=this.policy.rejects,l=d.length>0,u=(f,p,m)=>{if(!(p<=0)){for(let g=f;g<f+p;g+=1)r[g]=1;s.add(m)}};for(let f=0;f<e.length;f+=1){const p=e.slice(f);if(o&&(u(f,this.repetitionLength(p),"restricted.repetition"),u(f,this.sequenceLength(p),"restricted.sequence")),l&&u(f,this.wordLength(p),"restricted.words"),c){if(!n)throw new TypeError("User information data is required to check user information.");u(f,this.userInfoLength(p,n),"restricted.user_info")}}return r.reduce((f,p)=>f+p,0)>Q.getRestrictedPhraseThreshold(e)?[...i,...[...s].map(f=>({code:`password_rejected.${f}`}))]:i}fastCheck(e){const n=[];e.length<this.policy.length.min?n.push({code:"password_rejected.too_short",interpolation:{min:this.policy.length.min}}):e.length>this.policy.length.max&&n.push({code:"password_rejected.too_long",interpolation:{max:this.policy.length.max}});const i=this.checkCharTypes(e);return i==="unsupported"?n.push({code:"password_rejected.unsupported_characters"}):i||n.push({code:"password_rejected.character_types",interpolation:{min:this.policy.characterTypes.min}}),n}checkCharTypes(e){const n=new Set;for(const i of e)if(i>="a"&&i<="z")n.add("lowercase");else if(i>="A"&&i<="Z")n.add("uppercase");else if(i>="0"&&i<="9")n.add("digits");else if(Q.symbols.includes(i))n.add("symbols");else return"unsupported";return n.size>=this.policy.characterTypes.min}async hasBeenPwned(e){if(ys())return Zc().includes(e);const n=await this.subtle.digest("SHA-1",new TextEncoder().encode(e)),i=Array.from(new Uint8Array(n)).map(u=>u.toString(16).padStart(2,"0")).join(""),r=i.slice(0,5),s=i.slice(5);return(await(await fetch(`https://api.pwnedpasswords.com/range/${r}`)).text()).split(`
`).some(u=>u.toLowerCase().startsWith(s))}repetitionLength(e){const{repetitionAndSequenceThreshold:n}=Q,i=e[0];let r=0;if(i===void 0)return 0;for(const s of e)if(s===i)r+=1;else break;return r>=n?r:0}userInfoLength(e,n){const i=e.toLowerCase(),{name:r,username:s,email:o,phoneNumber:d}=n;let c=0;const l=u=>{u>c&&(c=u)};if(r){const u=r.replaceAll(/\s+/g,"");if(i.startsWith(r.toLowerCase()))l(r.length);else{i.startsWith(u.toLowerCase())&&l(u.length);for(const f of r.split(" "))i.startsWith(f.toLowerCase())&&l(f.length)}}if(s&&i.startsWith(s.toLowerCase())&&l(s.length),o){const u=o.split("@")[0];u&&i.startsWith(u.toLowerCase())&&l(u.length)}return d&&i.startsWith(d)&&l(d.length),c}wordLength(e){const n=e.toLowerCase();let i=0;for(const r of this.policy.rejects.words)n.startsWith(r.toLowerCase())&&r.length>i&&(i=r.length);return i}sequenceLength(e){const{repetitionAndSequenceThreshold:n}=Q;let i="",r=0;for(const s of e)if(!i||this.isSequential(i+s))i+=s,r+=1;else break;return r>=n?r:0}isSequential(e){const{sequence:n}=Q;for(const i of n){const r=[...i].reverse().join("");if([i,r,i.toUpperCase(),r.toUpperCase()].some(s=>s.includes(e)))return!0}return!1}};Q.symbols=Object.freeze("!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~ "),Q.sequence=Object.freeze(["0123456789","abcdefghijklmnopqrstuvwxyz","qwertyuiop","asdfghjkl","zxcvbnm","1qaz","2wsx","3edc","4rfv","5tgb","6yhn","7ujm","8ik","9ol"]),Q.repetitionAndSequenceThreshold=3,Q.restrictedPhrasesTolerance=3;let fr=Q;var oa;(function(t){t.Success="Success",t.Error="Error"})(oa||(oa={}));const bs=a.object({key:a.string(),result:a.nativeEnum(oa),error:a.record(a.string(),a.unknown()).or(a.string()).optional(),ip:a.string().optional(),userAgent:a.string().optional(),userId:a.string().optional(),applicationId:a.string().optional(),sessionId:a.string().optional()}).catchall(a.unknown()),_s=vs.deepPartial(),xs=a.object({userCode:a.string().optional(),uid:a.string().optional(),grantId:a.string().optional()}).catchall(a.unknown()),ks=a.object({redirectUris:a.string().refine(t=>cr(t,"web")).or(a.string().refine(t=>cr(t,"mobile"))).array(),postLogoutRedirectUris:a.string().url().array(),backchannelLogoutUri:a.string().url().optional(),backchannelLogoutSessionRequired:a.boolean().optional(),logoUri:a.string().optional()});var me;(function(t){t.CorsAllowedOrigins="corsAllowedOrigins",t.IdTokenTtl="idTokenTtl",t.RefreshTokenTtl="refreshTokenTtl",t.RefreshTokenTtlInDays="refreshTokenTtlInDays",t.TenantId="tenantId",t.AlwaysIssueRefreshToken="alwaysIssueRefreshToken",t.RotateRefreshToken="rotateRefreshToken"})(me||(me={}));const Is=a.object({[me.CorsAllowedOrigins]:a.string().min(1).array().optional(),[me.IdTokenTtl]:a.number().optional(),[me.RefreshTokenTtl]:a.number().optional(),[me.RefreshTokenTtlInDays]:a.number().int().min(1).max(90).optional(),[me.TenantId]:a.string().optional(),[me.AlwaysIssueRefreshToken]:a.boolean().optional(),[me.RotateRefreshToken]:a.boolean().optional()}),Na=a.lazy(()=>a.record(a.string().or(Na))),Pc=Object.freeze({"af-ZA":"Afrikaans","am-ET":"","ar-AR":"","as-IN":"","az-AZ":"Azrbaycan dili","be-BY":"","bg-BG":"","bn-IN":"","br-FR":"Brezhoneg","bs-BA":"Bosanski","ca-ES":"Catal","cb-IQ":" ","co-FR":"Corsu","cs-CZ":"etina","cx-PH":"Bisaya","cy-GB":"Cymraeg","da-DK":"Dansk",de:"Deutsch","de-DE":"Deutsch (Deutschland)","el-GR":"",en:"English","en-GB":"English (UK)","en-US":"English (US)","eo-EO":"Esperanto",es:"Espaol","es-ES":"Espaol (Espaa)","es-419":"Espaol (Latinoamrica)","et-EE":"Eesti","eu-ES":"Euskara","fa-IR":"","ff-NG":"Fula","fi-FI":"Suomi","fo-FO":"Froyskt",fr:"Franais","fr-CA":"Franais (Canada)","fr-FR":"Franais (France)","fy-NL":"Frysk","ga-IE":"Gaeilge","gl-ES":"Galego","gn-PY":"Guarani","gu-IN":"","ha-NG":"Hausa","he-IL":"","hi-IN":"","hr-HR":"Hrvatski","ht-HT":"Kreyl Ayisyen","hu-HU":"Magyar","hy-AM":"","id-ID":"Bahasa Indonesia","ik-US":"Iupiatun","is-IS":"slenska",it:"Italiano","it-IT":"Italiano (Italia)","iu-CA":"Inuktitut",ja:"","ja-JP":"","ja-KS":"()","jv-ID":"Basa Jawa","ka-GE":"","kk-KZ":"","km-KH":"","kn-IN":"",ko:"","ko-KR":"","ku-TR":"Kurd (Kurmanc)","ky-KG":"","lo-LA":"","lt-LT":"Lietuvi","lv-LV":"Latvieu","mg-MG":"Malagasy","mk-MK":"","ml-IN":"","mn-MN":"","mr-IN":"","ms-MY":"Bahasa Melayu","mt-MT":"Malti","my-MM":"","nb-NO":"Norsk (bokml)","ne-NP":"","nl-BE":"Vlaams","nl-NL":"Nederlands","nn-NO":"Norsk (nynorsk)","or-IN":"","pa-IN":"","pl-PL":"Polski","ps-AF":"",pt:"portugus","pt-BR":"Portugus (Brasil)","pt-PT":"Portugus (Portugal)","ro-RO":"Romn",ru:"","ru-RU":"","rw-RW":"Ikinyarwanda","sc-IT":"Sardu","si-LK":"","sk-SK":"Slovenina","sl-SI":"Slovenina","sn-ZW":"Shona","sq-AL":"Shqip","sr-RS":"","sv-SE":"Svenska","sw-KE":"Kiswahili","sy-SY":"","sz-PL":"lnsk gdka","ta-IN":"","te-IN":"","tg-TJ":"","th-TH":"","tl-PH":"Filipino",tr:"Trke","tr-TR":"Trke","tt-RU":"","tz-MA":"","uk-UA":"","ur-PK":"","uz-UZ":"O'zbek","vi-VN":"Ting Vit",zh:"","zh-CN":"","zh-HK":"","zh-MO":"","zh-TW":"","zz-TR":"Zaza"}),ws=t=>typeof t=="string"&&t in Pc,Nc=h.any().refine(t=>ws(t));var mn;(function(t){t.Light="light",t.Dark="dark"})(mn||(mn={}));const Ma=a.object({primaryColor:a.string().regex(dr),isDarkModeEnabled:a.boolean(),darkPrimaryColor:a.string().regex(dr)}),js=Ma.partial();Object.freeze({[mn.Light]:"logoUrl",[mn.Dark]:"darkLogoUrl"});const at=a.object({logoUrl:a.string().url(),darkLogoUrl:a.string().url(),favicon:a.string().url(),darkFavicon:a.string().url()}).partial(),Ss=a.object({autoDetect:a.boolean(),fallbackLanguage:Nc});var J;(function(t){t.Username="username",t.Email="email",t.Phone="phone"})(J||(J={}));const Ts=a.object({identifiers:a.nativeEnum(J).array(),password:a.boolean(),verify:a.boolean()}),As=a.object({methods:a.object({identifier:a.nativeEnum(J),password:a.boolean(),verificationCode:a.boolean(),isPasswordPrimary:a.boolean()}).array()}),Os=a.object({automaticAccountLinking:a.boolean().optional()}),Cs=a.string().array(),zs=a.record(a.string());var V;(function(t){t.TOTP="Totp",t.WebAuthn="WebAuthn",t.BackupCode="BackupCode"})(V||(V={}));const Es=a.nativeEnum(V).array();var fn;(function(t){t.UserControlled="UserControlled",t.Mandatory="Mandatory"})(fn||(fn={}));const Rs=a.object({factors:Es,policy:a.nativeEnum(fn)}),$s=a.object({id:a.string(),createdAt:a.number()});var da;(function(t){t.User="User",t.App="App"})(da||(da={}));const Zs=a.nativeEnum(da);var ca;(function(t){t.Password="Password",t.VerificationCode="VerificationCode"})(ca||(ca={}));const Ps=a.nativeEnum(ca),Ns=a.record(a.unknown());var fe;(function(t){t.Text="Text",t.Number="Number",t.MultilineText="MultilineText",t.Switch="Switch",t.Select="Select",t.MultiSelect="MultiSelect",t.Json="Json"})(fe||(fe={}));const qn={key:h.string(),label:h.string(),placeholder:h.string().optional(),required:h.boolean().optional(),defaultValue:h.unknown().optional(),showConditions:h.array(h.object({targetKey:h.string(),expectValue:h.unknown().optional()})).optional(),description:h.string().optional(),tooltip:h.string().optional(),isConfidential:h.boolean().optional()},Mc=h.discriminatedUnion("type",[h.object({type:h.literal(fe.Select),selectItems:h.array(h.object({value:h.string(),title:h.string()})),...qn}),h.object({type:h.literal(fe.MultiSelect),selectItems:h.array(h.object({value:h.string()})),...qn}),h.object({type:h.enum([fe.Text,fe.Number,fe.MultilineText,fe.Switch,fe.Json]),...qn})]);var hr;(function(t){t.General="general",t.InvalidMetadata="invalid_metadata",t.UnexpectedType="unexpected_type",t.InvalidConfigGuard="invalid_config_guard",t.InvalidRequestParameters="invalid_request_parameters",t.InsufficientRequestParameters="insufficient_request_parameters",t.InvalidConfig="invalid_config",t.InvalidCertificate="invalid_certificate",t.InvalidResponse="invalid_response",t.TemplateNotFound="template_not_found",t.TemplateNotSupported="template_not_supported",t.RateLimitExceeded="rate_limit_exceeded",t.NotImplemented="not_implemented",t.SocialAuthCodeInvalid="social_auth_code_invalid",t.SocialAccessTokenInvalid="social_invalid_access_token",t.SocialIdTokenInvalid="social_invalid_id_token",t.AuthorizationFailed="authorization_failed"})(hr||(hr={}));var la;(function(t){t.Native="Native",t.Universal="Universal",t.Web="Web"})(la||(la={}));const gr=h.object({en:h.string()}).and(h.record(h.string())).refine(t=>{const e=Object.keys(t);if(!e.includes("en"))return!1;for(const n of e)if(!ws(n))return!1;return!0}),Gc=h.object({platform:h.nativeEnum(la).nullable(),isStandard:h.boolean().optional()}),zn=h.object({id:h.string(),target:h.string(),name:gr,description:gr,logo:h.string(),logoDark:h.string().nullable(),readme:h.string(),configTemplate:h.string().optional(),formItems:Mc.array().optional(),customData:h.record(h.unknown()).optional(),fromEmail:h.string().optional()}).merge(Gc),Ms=zn.pick({target:!0,name:!0,logo:!0,logoDark:!0}).partial();var Xe;(function(t){t.Email="Email",t.Sms="Sms",t.Social="Social"})(Xe||(Xe={}));var ua;(function(t){t.SignIn="SignIn",t.Register="Register",t.ForgotPassword="ForgotPassword",t.Generic="Generic",t.Test="Test"})(ua||(ua={}));const Dc=h.nativeEnum(ua);var pa;(function(t){t.SignIn="SignIn",t.Register="Register",t.ForgotPassword="ForgotPassword",t.OrganizationInvitation="OrganizationInvitation",t.Generic="Generic"})(pa||(pa={}));const Uc=h.nativeEnum(pa),Lc=h.object({code:h.string().optional(),link:h.string().optional()}).and(h.record(h.string())),yr=/(https?:\/\/)?(?:www\.)?[\w#%+.:=@~-]{1,256}\.[\d()A-Za-z]{1,6}\b[\w#%&()+./:=?@~-]*/;h.object({senderName:h.string().refine(t=>!yr.test(t),"URL is not allowed in sender name."),companyInformation:h.string().refine(t=>!yr.test(t),"URL is not allowed in company information."),appLogo:h.string().url()}).partial();h.object({to:h.string(),type:Uc.or(Dc),payload:Lc});var ma;(function(t){t.None="none",t.Login="login",t.Consent="consent",t.SelectAccount="select_account"})(ma||(ma={}));const Vc=h.nativeEnum(ma).array().optional(),qc=h.union([h.string(),h.number(),h.boolean(),h.null()]),et=h.lazy(()=>h.union([qc,h.array(et),h.record(et)])),M=h.record(et);h.object({id:h.string(),email:h.string().optional(),phone:h.string().optional(),name:h.string().optional(),avatar:h.string().optional(),rawData:et.optional()});h.object({nonce:h.string(),redirectUri:h.string(),connectorId:h.string(),connectorFactoryId:h.string(),jti:h.string(),state:h.string()}).partial().catchall(h.unknown());const Gs=h.object({isEnabled:h.boolean().optional(),autoSelect:h.boolean().optional(),closeOnTapOutside:h.boolean().optional(),itpSupport:h.boolean().optional()});Object.freeze({target:"google",factoryId:"google-universal",oneTapParams:Object.freeze({csrfToken:"g_csrf_token",credential:"credential"}),configGuard:h.object({clientId:h.string(),clientSecret:h.string(),scope:h.string().optional(),prompts:Vc,oneTap:Gs.optional()})});var hn;(function(t){t.Sms="logto-sms",t.Social="logto-social-demo"})(hn||(hn={}));Object.freeze([hn.Sms,hn.Social]);var fa;(function(t){t.Email="logto-email"})(fa||(fa={}));Object.freeze([fa.Email]);Object.freeze({[Xe.Sms]:"/tmp/logto_mock_sms_record.txt",[Xe.Email]:"/tmp/logto_mock_email_record.txt"});const Ga=a.object({familyName:a.string(),givenName:a.string(),middleName:a.string(),nickname:a.string(),preferredUsername:a.string(),profile:a.string(),website:a.string(),gender:a.string(),birthdate:a.string(),zoneinfo:a.string(),locale:a.string(),address:a.object({formatted:a.string(),streetAddress:a.string(),locality:a.string(),region:a.string(),postalCode:a.string(),country:a.string()}).partial()}).partial();Object.freeze(Ga.keyof().options);a.string().array();const Fc=a.object({userId:a.string(),details:M.optional()}),Ds=a.record(Fc),Da={id:a.string(),createdAt:a.string(),lastUsedAt:a.string().optional()},Bc=a.object({type:a.literal(V.TOTP),...Da,key:a.string()}),Kt=a.enum(["usb","nfc","ble","internal","cable","hybrid","smart-card"]),Kc=a.object({type:a.literal(V.WebAuthn),...Da,credentialId:a.string(),publicKey:a.string(),transports:Kt.array().optional(),counter:a.number(),agent:a.string()}),Wc=a.object({type:a.literal(V.BackupCode),...Da,codes:a.object({code:a.string(),usedAt:a.string().optional()}).array()}),Jc=a.discriminatedUnion("type",[Bc,Kc,Wc]),Us=Jc.array(),Ls=a.array(a.string()),Vs=a.object({displayName:a.string().optional(),logo:a.string().optional(),darkLogo:a.string().optional()}),Hc=a.object({domain:a.string(),status:$a,errorMessage:a.string().nullable(),dnsRecords:Ea,cloudflareData:Ra.nullable()}),Yc=a.array(Hc),qs=a.object({host:a.string(),origin:a.string(),sessionDuration:a.number(),pageRules:a.array(a.object({path:a.string()})),customDomains:Yc.optional()});var gn;(function(t){t.Native="Native",t.SPA="SPA",t.Traditional="Traditional",t.MachineToMachine="MachineToMachine",t.Protected="Protected"})(gn||(gn={}));var yn;(function(t){t.Pending="Pending",t.Accepted="Accepted",t.Expired="Expired",t.Revoked="Revoked"})(yn||(yn={}));var ve;(function(t){t.User="User",t.MachineToMachine="MachineToMachine"})(ve||(ve={}));var vn;(function(t){t.Success="Success",t.Failed="Failed"})(vn||(vn={}));var bn;(function(t){t.Undecided="Undecided",t.Allowed="Allowed",t.Blocked="Blocked",t.Challenge="Challenge"})(bn||(bn={}));var Ut;(function(t){t.SignIn="SignIn",t.Register="Register",t.SignInAndRegister="SignInAndRegister"})(Ut||(Ut={}));var _n;(function(t){t.Automatic="Automatic",t.ManualRegistrationOnly="ManualRegistrationOnly",t.Manual="Manual"})(_n||(_n={}));var xn;(function(t){t.Argon2i="Argon2i",t.Argon2id="Argon2id",t.Argon2d="Argon2d",t.SHA1="SHA1",t.SHA256="SHA256",t.MD5="MD5",t.Bcrypt="Bcrypt"})(xn||(xn={}));const Qc=a.object({tenantId:a.string().max(21).optional(),applicationId:a.string().min(1).max(21),name:a.string().min(1).max(256),value:a.string().min(1).max(64),createdAt:a.number().optional(),expiresAt:a.number().nullable().optional()}),vr=a.object({tenantId:a.string().max(21),applicationId:a.string().min(1).max(21),name:a.string().min(1).max(256),value:a.string().min(1).max(64),createdAt:a.number(),expiresAt:a.number().nullable()});Object.freeze({table:"application_secrets",tableSingular:"application_secret",fields:{tenantId:"tenant_id",applicationId:"application_id",name:"name",value:"value",createdAt:"created_at",expiresAt:"expires_at"},fieldKeys:["tenantId","applicationId","name","value","createdAt","expiresAt"],createGuard:Qc,guard:vr,updateGuard:vr.partial()});const Xc=a.object({tenantId:a.string().max(21).optional(),applicationId:a.string().min(1).max(21),color:js.optional(),branding:at.optional(),termsOfUseUrl:a.string().max(2048).nullable().optional(),privacyPolicyUrl:a.string().max(2048).nullable().optional(),displayName:a.string().max(256).nullable().optional()}),br=a.object({tenantId:a.string().max(21),applicationId:a.string().min(1).max(21),color:js,branding:at,termsOfUseUrl:a.string().max(2048).nullable(),privacyPolicyUrl:a.string().max(2048).nullable(),displayName:a.string().max(256).nullable()}),Fs=Object.freeze({table:"application_sign_in_experiences",tableSingular:"application_sign_in_experience",fields:{tenantId:"tenant_id",applicationId:"application_id",color:"color",branding:"branding",termsOfUseUrl:"terms_of_use_url",privacyPolicyUrl:"privacy_policy_url",displayName:"display_name"},fieldKeys:["tenantId","applicationId","color","branding","termsOfUseUrl","privacyPolicyUrl","displayName"],createGuard:Xc,guard:br,updateGuard:br.partial()}),el=a.object({tenantId:a.string().max(21).optional(),applicationId:a.string().min(1).max(21),scopeId:a.string().min(1).max(21)}),_r=a.object({tenantId:a.string().max(21),applicationId:a.string().min(1).max(21),scopeId:a.string().min(1).max(21)});Object.freeze({table:"application_user_consent_organization_resource_scopes",tableSingular:"application_user_consent_organization_resource_scope",fields:{tenantId:"tenant_id",applicationId:"application_id",scopeId:"scope_id"},fieldKeys:["tenantId","applicationId","scopeId"],createGuard:el,guard:_r,updateGuard:_r.partial()});const tl=a.object({tenantId:a.string().max(21).optional(),applicationId:a.string().min(1).max(21),organizationScopeId:a.string().min(1).max(21)}),xr=a.object({tenantId:a.string().max(21),applicationId:a.string().min(1).max(21),organizationScopeId:a.string().min(1).max(21)});Object.freeze({table:"application_user_consent_organization_scopes",tableSingular:"application_user_consent_organization_scope",fields:{tenantId:"tenant_id",applicationId:"application_id",organizationScopeId:"organization_scope_id"},fieldKeys:["tenantId","applicationId","organizationScopeId"],createGuard:tl,guard:xr,updateGuard:xr.partial()});const nl=a.object({tenantId:a.string().max(21).optional(),applicationId:a.string().min(1).max(21),organizationId:a.string().min(1).max(21),userId:a.string().min(1).max(21)}),kr=a.object({tenantId:a.string().max(21),applicationId:a.string().min(1).max(21),organizationId:a.string().min(1).max(21),userId:a.string().min(1).max(21)});Object.freeze({table:"application_user_consent_organizations",tableSingular:"application_user_consent_organization",fields:{tenantId:"tenant_id",applicationId:"application_id",organizationId:"organization_id",userId:"user_id"},fieldKeys:["tenantId","applicationId","organizationId","userId"],createGuard:nl,guard:kr,updateGuard:kr.partial()});const al=a.object({tenantId:a.string().max(21).optional(),applicationId:a.string().min(1).max(21),scopeId:a.string().min(1).max(21)}),Ir=a.object({tenantId:a.string().max(21),applicationId:a.string().min(1).max(21),scopeId:a.string().min(1).max(21)});Object.freeze({table:"application_user_consent_resource_scopes",tableSingular:"application_user_consent_resource_scope",fields:{tenantId:"tenant_id",applicationId:"application_id",scopeId:"scope_id"},fieldKeys:["tenantId","applicationId","scopeId"],createGuard:al,guard:Ir,updateGuard:Ir.partial()});const rl=a.object({tenantId:a.string().max(21).optional(),applicationId:a.string().min(1).max(21),userScope:a.string().min(1).max(64)}),wr=a.object({tenantId:a.string().max(21),applicationId:a.string().min(1).max(21),userScope:a.string().min(1).max(64)});Object.freeze({table:"application_user_consent_user_scopes",tableSingular:"application_user_consent_user_scope",fields:{tenantId:"tenant_id",applicationId:"application_id",userScope:"user_scope"},fieldKeys:["tenantId","applicationId","userScope"],createGuard:rl,guard:wr,updateGuard:wr.partial()});const il=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(21),name:a.string().min(1).max(256),secret:a.string().min(1).max(64),description:a.string().nullable().optional(),type:a.nativeEnum(gn),oidcClientMetadata:ks,customClientMetadata:Is.optional(),protectedAppMetadata:qs.nullable().optional(),customData:M.optional(),isThirdParty:a.boolean().optional(),createdAt:a.number().optional()}),jr=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(21),name:a.string().min(1).max(256),secret:a.string().min(1).max(64),description:a.string().nullable(),type:a.nativeEnum(gn),oidcClientMetadata:ks,customClientMetadata:Is,protectedAppMetadata:qs.nullable(),customData:M,isThirdParty:a.boolean(),createdAt:a.number()}),Lt=Object.freeze({table:"applications",tableSingular:"application",fields:{tenantId:"tenant_id",id:"id",name:"name",secret:"secret",description:"description",type:"type",oidcClientMetadata:"oidc_client_metadata",customClientMetadata:"custom_client_metadata",protectedAppMetadata:"protected_app_metadata",customData:"custom_data",isThirdParty:"is_third_party",createdAt:"created_at"},fieldKeys:["tenantId","id","name","secret","description","type","oidcClientMetadata","customClientMetadata","protectedAppMetadata","customData","isThirdParty","createdAt"],createGuard:il,guard:jr,updateGuard:jr.partial()}),sl=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(21),applicationId:a.string().min(1).max(21),roleId:a.string().min(1).max(21)}),Sr=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(21),applicationId:a.string().min(1).max(21),roleId:a.string().min(1).max(21)});Object.freeze({table:"applications_roles",tableSingular:"applications_role",fields:{tenantId:"tenant_id",id:"id",applicationId:"application_id",roleId:"role_id"},fieldKeys:["tenantId","id","applicationId","roleId"],createGuard:sl,guard:Sr,updateGuard:Sr.partial()});const ol=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(128),syncProfile:a.boolean().optional(),connectorId:a.string().min(1).max(128),config:M.optional(),metadata:Ms.optional(),createdAt:a.number().optional()}),Tr=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(128),syncProfile:a.boolean(),connectorId:a.string().min(1).max(128),config:M,metadata:Ms,createdAt:a.number()}),dl=Object.freeze({table:"connectors",tableSingular:"connector",fields:{tenantId:"tenant_id",id:"id",syncProfile:"sync_profile",connectorId:"connector_id",config:"config",metadata:"metadata",createdAt:"created_at"},fieldKeys:["tenantId","id","syncProfile","connectorId","config","metadata","createdAt"],createGuard:ol,guard:Tr,updateGuard:Tr.partial()}),cl=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(21),languageTag:a.string().min(1).max(16),translation:Na}),Ar=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(21),languageTag:a.string().min(1).max(16),translation:Na});Object.freeze({table:"custom_phrases",tableSingular:"custom_phrase",fields:{tenantId:"tenant_id",id:"id",languageTag:"language_tag",translation:"translation"},fieldKeys:["tenantId","id","languageTag","translation"],createGuard:cl,guard:Ar,updateGuard:Ar.partial()});const ll=a.object({id:a.string().min(1).max(21),tenantId:a.string().max(21).optional(),userId:a.string().min(1).max(21),date:a.number().optional()}),Or=a.object({id:a.string().min(1).max(21),tenantId:a.string().max(21),userId:a.string().min(1).max(21),date:a.number()});Object.freeze({table:"daily_active_users",tableSingular:"daily_active_user",fields:{id:"id",tenantId:"tenant_id",userId:"user_id",date:"date"},fieldKeys:["id","tenantId","userId","date"],createGuard:ll,guard:Or,updateGuard:Or.partial()});const ul=a.object({id:a.string().min(1).max(21),tenantId:a.string().max(21).optional(),usage:a.number().optional(),date:a.number()}),Cr=a.object({id:a.string().min(1).max(21),tenantId:a.string().max(21),usage:a.number(),date:a.number()});Object.freeze({table:"daily_token_usage",tableSingular:"daily_token_usage",fields:{id:"id",tenantId:"tenant_id",usage:"usage",date:"date"},fieldKeys:["id","tenantId","usage","date"],createGuard:ul,guard:Cr,updateGuard:Cr.partial()});const pl=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(21),domain:a.string().min(1).max(256),status:$a.optional(),errorMessage:a.string().max(1024).nullable().optional(),dnsRecords:Ea.optional(),cloudflareData:Ra.nullable().optional(),updatedAt:a.number().optional(),createdAt:a.number().optional()}),zr=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(21),domain:a.string().min(1).max(256),status:$a,errorMessage:a.string().max(1024).nullable(),dnsRecords:Ea,cloudflareData:Ra.nullable(),updatedAt:a.number(),createdAt:a.number()}),ml=Object.freeze({table:"domains",tableSingular:"domain",fields:{tenantId:"tenant_id",id:"id",domain:"domain",status:"status",errorMessage:"error_message",dnsRecords:"dns_records",cloudflareData:"cloudflare_data",updatedAt:"updated_at",createdAt:"created_at"},fieldKeys:["tenantId","id","domain","status","errorMessage","dnsRecords","cloudflareData","updatedAt","createdAt"],createGuard:pl,guard:zr,updateGuard:zr.partial()}),fl=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(21),name:a.string().min(1).max(256).optional(),event:Za.nullable().optional(),events:Xi.optional(),config:es,signingKey:a.string().min(1).max(64).optional(),enabled:a.boolean().optional(),createdAt:a.number().optional()}),Er=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(21),name:a.string().max(256),event:Za.nullable(),events:Xi,config:es,signingKey:a.string().max(64),enabled:a.boolean(),createdAt:a.number()}),hl=Object.freeze({table:"hooks",tableSingular:"hook",fields:{tenantId:"tenant_id",id:"id",name:"name",event:"event",events:"events",config:"config",signingKey:"signing_key",enabled:"enabled",createdAt:"created_at"},fieldKeys:["tenantId","id","name","event","events","config","signingKey","enabled","createdAt"],createGuard:fl,guard:Er,updateGuard:Er.partial()}),gl=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(21),key:a.string().min(1).max(128),payload:bs.optional(),createdAt:a.number().optional()}),Rr=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(21),key:a.string().min(1).max(128),payload:bs,createdAt:a.number()});Object.freeze({table:"logs",tableSingular:"log",fields:{tenantId:"tenant_id",id:"id",key:"key",payload:"payload",createdAt:"created_at"},fieldKeys:["tenantId","id","key","payload","createdAt"],createGuard:gl,guard:Rr,updateGuard:Rr.partial()});const yl=a.object({tenantId:a.string().max(21).optional(),key:a.string().min(1).max(256),value:et.optional()}),$r=a.object({tenantId:a.string().max(21),key:a.string().min(1).max(256),value:et});Object.freeze({table:"logto_configs",tableSingular:"logto_config",fields:{tenantId:"tenant_id",key:"key",value:"value"},fieldKeys:["tenantId","key","value"],createGuard:yl,guard:$r,updateGuard:$r.partial()});const vl=a.object({tenantId:a.string().max(21).optional(),modelName:a.string().min(1).max(64),id:a.string().min(1).max(128),payload:xs,expiresAt:a.number(),consumedAt:a.number().nullable().optional()}),Zr=a.object({tenantId:a.string().max(21),modelName:a.string().min(1).max(64),id:a.string().min(1).max(128),payload:xs,expiresAt:a.number(),consumedAt:a.number().nullable()});Object.freeze({table:"oidc_model_instances",tableSingular:"oidc_model_instance",fields:{tenantId:"tenant_id",modelName:"model_name",id:"id",payload:"payload",expiresAt:"expires_at",consumedAt:"consumed_at"},fieldKeys:["tenantId","modelName","id","payload","expiresAt","consumedAt"],createGuard:vl,guard:Zr,updateGuard:Zr.partial()});const bl=a.object({tenantId:a.string().max(21).optional(),organizationId:a.string().min(1).max(21),applicationId:a.string().min(1).max(21)}),Pr=a.object({tenantId:a.string().max(21),organizationId:a.string().min(1).max(21),applicationId:a.string().min(1).max(21)});Object.freeze({table:"organization_application_relations",tableSingular:"organization_application_relation",fields:{tenantId:"tenant_id",organizationId:"organization_id",applicationId:"application_id"},fieldKeys:["tenantId","organizationId","applicationId"],createGuard:bl,guard:Pr,updateGuard:Pr.partial()});const _l=a.object({tenantId:a.string().max(21).optional(),organizationInvitationId:a.string().min(1).max(21),organizationRoleId:a.string().min(1).max(21)}),Nr=a.object({tenantId:a.string().max(21),organizationInvitationId:a.string().min(1).max(21),organizationRoleId:a.string().min(1).max(21)});Object.freeze({table:"organization_invitation_role_relations",tableSingular:"organization_invitation_role_relation",fields:{tenantId:"tenant_id",organizationInvitationId:"organization_invitation_id",organizationRoleId:"organization_role_id"},fieldKeys:["tenantId","organizationInvitationId","organizationRoleId"],createGuard:_l,guard:Nr,updateGuard:Nr.partial()});const xl=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(21),inviterId:a.string().max(21).nullable().optional(),invitee:a.string().min(1).max(256),acceptedUserId:a.string().max(21).nullable().optional(),organizationId:a.string().min(1).max(21),status:a.nativeEnum(yn),createdAt:a.number().optional(),updatedAt:a.number().optional(),expiresAt:a.number()}),Mr=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(21),inviterId:a.string().max(21).nullable(),invitee:a.string().min(1).max(256),acceptedUserId:a.string().max(21).nullable(),organizationId:a.string().min(1).max(21),status:a.nativeEnum(yn),createdAt:a.number(),updatedAt:a.number(),expiresAt:a.number()}),kl=Object.freeze({table:"organization_invitations",tableSingular:"organization_invitation",fields:{tenantId:"tenant_id",id:"id",inviterId:"inviter_id",invitee:"invitee",acceptedUserId:"accepted_user_id",organizationId:"organization_id",status:"status",createdAt:"created_at",updatedAt:"updated_at",expiresAt:"expires_at"},fieldKeys:["tenantId","id","inviterId","invitee","acceptedUserId","organizationId","status","createdAt","updatedAt","expiresAt"],createGuard:xl,guard:Mr,updateGuard:Mr.partial()}),Il=a.object({tenantId:a.string().max(21).optional(),organizationId:a.string().min(1).max(21),emailDomain:a.string().min(1).max(128)}),Gr=a.object({tenantId:a.string().max(21),organizationId:a.string().min(1).max(21),emailDomain:a.string().min(1).max(128)});Object.freeze({table:"organization_jit_email_domains",tableSingular:"organization_jit_email_domain",fields:{tenantId:"tenant_id",organizationId:"organization_id",emailDomain:"email_domain"},fieldKeys:["tenantId","organizationId","emailDomain"],createGuard:Il,guard:Gr,updateGuard:Gr.partial()});const wl=a.object({tenantId:a.string().max(21).optional(),organizationId:a.string().min(1).max(21),organizationRoleId:a.string().min(1).max(21)}),Dr=a.object({tenantId:a.string().max(21),organizationId:a.string().min(1).max(21),organizationRoleId:a.string().min(1).max(21)});Object.freeze({table:"organization_jit_roles",tableSingular:"organization_jit_role",fields:{tenantId:"tenant_id",organizationId:"organization_id",organizationRoleId:"organization_role_id"},fieldKeys:["tenantId","organizationId","organizationRoleId"],createGuard:wl,guard:Dr,updateGuard:Dr.partial()});const jl=a.object({tenantId:a.string().max(21).optional(),organizationId:a.string().min(1).max(21),ssoConnectorId:a.string().min(1).max(128)}),Ur=a.object({tenantId:a.string().max(21),organizationId:a.string().min(1).max(21),ssoConnectorId:a.string().min(1).max(128)});Object.freeze({table:"organization_jit_sso_connectors",tableSingular:"organization_jit_sso_connector",fields:{tenantId:"tenant_id",organizationId:"organization_id",ssoConnectorId:"sso_connector_id"},fieldKeys:["tenantId","organizationId","ssoConnectorId"],createGuard:jl,guard:Ur,updateGuard:Ur.partial()});const Sl=a.object({tenantId:a.string().max(21).optional(),organizationId:a.string().min(1).max(21),organizationRoleId:a.string().min(1).max(21),applicationId:a.string().min(1).max(21)}),Lr=a.object({tenantId:a.string().max(21),organizationId:a.string().min(1).max(21),organizationRoleId:a.string().min(1).max(21),applicationId:a.string().min(1).max(21)});Object.freeze({table:"organization_role_application_relations",tableSingular:"organization_role_application_relation",fields:{tenantId:"tenant_id",organizationId:"organization_id",organizationRoleId:"organization_role_id",applicationId:"application_id"},fieldKeys:["tenantId","organizationId","organizationRoleId","applicationId"],createGuard:Sl,guard:Lr,updateGuard:Lr.partial()});const Tl=a.object({tenantId:a.string().max(21).optional(),organizationRoleId:a.string().min(1).max(21),scopeId:a.string().min(1).max(21)}),Vr=a.object({tenantId:a.string().max(21),organizationRoleId:a.string().min(1).max(21),scopeId:a.string().min(1).max(21)});Object.freeze({table:"organization_role_resource_scope_relations",tableSingular:"organization_role_resource_scope_relation",fields:{tenantId:"tenant_id",organizationRoleId:"organization_role_id",scopeId:"scope_id"},fieldKeys:["tenantId","organizationRoleId","scopeId"],createGuard:Tl,guard:Vr,updateGuard:Vr.partial()});const Al=a.object({tenantId:a.string().max(21).optional(),organizationRoleId:a.string().min(1).max(21),organizationScopeId:a.string().min(1).max(21)}),qr=a.object({tenantId:a.string().max(21),organizationRoleId:a.string().min(1).max(21),organizationScopeId:a.string().min(1).max(21)});Object.freeze({table:"organization_role_scope_relations",tableSingular:"organization_role_scope_relation",fields:{tenantId:"tenant_id",organizationRoleId:"organization_role_id",organizationScopeId:"organization_scope_id"},fieldKeys:["tenantId","organizationRoleId","organizationScopeId"],createGuard:Al,guard:qr,updateGuard:qr.partial()});const Ol=a.object({tenantId:a.string().max(21).optional(),organizationId:a.string().min(1).max(21),organizationRoleId:a.string().min(1).max(21),userId:a.string().min(1).max(21)}),Fr=a.object({tenantId:a.string().max(21),organizationId:a.string().min(1).max(21),organizationRoleId:a.string().min(1).max(21),userId:a.string().min(1).max(21)});Object.freeze({table:"organization_role_user_relations",tableSingular:"organization_role_user_relation",fields:{tenantId:"tenant_id",organizationId:"organization_id",organizationRoleId:"organization_role_id",userId:"user_id"},fieldKeys:["tenantId","organizationId","organizationRoleId","userId"],createGuard:Ol,guard:Fr,updateGuard:Fr.partial()});const Cl=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(21),name:a.string().min(1).max(128),description:a.string().max(256).nullable().optional(),type:a.nativeEnum(ve).optional()}),Br=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(21),name:a.string().min(1).max(128),description:a.string().max(256).nullable(),type:a.nativeEnum(ve)}),zl=Object.freeze({table:"organization_roles",tableSingular:"organization_role",fields:{tenantId:"tenant_id",id:"id",name:"name",description:"description",type:"type"},fieldKeys:["tenantId","id","name","description","type"],createGuard:Cl,guard:Br,updateGuard:Br.partial()}),El=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(21),name:a.string().min(1).max(128),description:a.string().max(256).nullable().optional()}),Kr=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(21),name:a.string().min(1).max(128),description:a.string().max(256).nullable()}),Rl=Object.freeze({table:"organization_scopes",tableSingular:"organization_scope",fields:{tenantId:"tenant_id",id:"id",name:"name",description:"description"},fieldKeys:["tenantId","id","name","description"],createGuard:El,guard:Kr,updateGuard:Kr.partial()}),$l=a.object({tenantId:a.string().max(21).optional(),organizationId:a.string().min(1).max(21),userId:a.string().min(1).max(21)}),Wr=a.object({tenantId:a.string().max(21),organizationId:a.string().min(1).max(21),userId:a.string().min(1).max(21)});Object.freeze({table:"organization_user_relations",tableSingular:"organization_user_relation",fields:{tenantId:"tenant_id",organizationId:"organization_id",userId:"user_id"},fieldKeys:["tenantId","organizationId","userId"],createGuard:$l,guard:Wr,updateGuard:Wr.partial()});const Zl=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(21),name:a.string().min(1).max(128),description:a.string().max(256).nullable().optional(),customData:M.optional(),isMfaRequired:a.boolean().optional(),branding:at.optional(),createdAt:a.number().optional()}),Jr=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(21),name:a.string().min(1).max(128),description:a.string().max(256).nullable(),customData:M,isMfaRequired:a.boolean(),branding:at,createdAt:a.number()}),Ua=Object.freeze({table:"organizations",tableSingular:"organization",fields:{tenantId:"tenant_id",id:"id",name:"name",description:"description",customData:"custom_data",isMfaRequired:"is_mfa_required",branding:"branding",createdAt:"created_at"},fieldKeys:["tenantId","id","name","description","customData","isMfaRequired","branding","createdAt"],createGuard:Zl,guard:Jr,updateGuard:Jr.partial()}),Pl=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(21),interactionJti:a.string().max(128).nullable().optional(),phone:a.string().max(32).nullable().optional(),email:a.string().max(128).nullable().optional(),type:a.string().min(1).max(32),code:a.string().min(1).max(6),consumed:a.boolean().optional(),tryCount:a.number().optional(),createdAt:a.number().optional()}),Hr=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(21),interactionJti:a.string().max(128).nullable(),phone:a.string().max(32).nullable(),email:a.string().max(128).nullable(),type:a.string().min(1).max(32),code:a.string().min(1).max(6),consumed:a.boolean(),tryCount:a.number(),createdAt:a.number()});Object.freeze({table:"passcodes",tableSingular:"passcode",fields:{tenantId:"tenant_id",id:"id",interactionJti:"interaction_jti",phone:"phone",email:"email",type:"type",code:"code",consumed:"consumed",tryCount:"try_count",createdAt:"created_at"},fieldKeys:["tenantId","id","interactionJti","phone","email","type","code","consumed","tryCount","createdAt"],createGuard:Pl,guard:Hr,updateGuard:Hr.partial()});const Nl=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(21),name:a.string().min(1),indicator:a.string().min(1),isDefault:a.boolean().optional(),accessTokenTtl:a.number().optional()}),Yr=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(21),name:a.string().min(1),indicator:a.string().min(1),isDefault:a.boolean(),accessTokenTtl:a.number()}),La=Object.freeze({table:"resources",tableSingular:"resource",fields:{tenantId:"tenant_id",id:"id",name:"name",indicator:"indicator",isDefault:"is_default",accessTokenTtl:"access_token_ttl"},fieldKeys:["tenantId","id","name","indicator","isDefault","accessTokenTtl"],createGuard:Nl,guard:Yr,updateGuard:Yr.partial()}),Ml=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(21),name:a.string().min(1).max(128),description:a.string().min(1).max(128),type:a.nativeEnum(ve).optional(),isDefault:a.boolean().optional()}),Qr=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(21),name:a.string().min(1).max(128),description:a.string().min(1).max(128),type:a.nativeEnum(ve),isDefault:a.boolean()}),Gl=Object.freeze({table:"roles",tableSingular:"role",fields:{tenantId:"tenant_id",id:"id",name:"name",description:"description",type:"type",isDefault:"is_default"},fieldKeys:["tenantId","id","name","description","type","isDefault"],createGuard:Ml,guard:Qr,updateGuard:Qr.partial()}),Dl=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(21),roleId:a.string().min(1).max(21),scopeId:a.string().min(1).max(21)}),Xr=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(21),roleId:a.string().min(1).max(21),scopeId:a.string().min(1).max(21)});Object.freeze({table:"roles_scopes",tableSingular:"roles_scope",fields:{tenantId:"tenant_id",id:"id",roleId:"role_id",scopeId:"scope_id"},fieldKeys:["tenantId","id","roleId","scopeId"],createGuard:Dl,guard:Xr,updateGuard:Xr.partial()});const Ul=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(21),resourceId:a.string().min(1).max(21),name:a.string().min(1).max(256),description:a.string().nullable().optional(),createdAt:a.number().optional()}),ei=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(21),resourceId:a.string().min(1).max(21),name:a.string().min(1).max(256),description:a.string().nullable(),createdAt:a.number()}),Va=Object.freeze({table:"scopes",tableSingular:"scope",fields:{tenantId:"tenant_id",id:"id",resourceId:"resource_id",name:"name",description:"description",createdAt:"created_at"},fieldKeys:["tenantId","id","resourceId","name","description","createdAt"],createGuard:Ul,guard:ei,updateGuard:ei.partial()}),Ll=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(21),targetType:Zs,targetHash:a.string().min(1).max(64),action:Ps,actionResult:a.nativeEnum(vn),payload:Ns,decision:a.nativeEnum(bn),decisionExpiresAt:a.number().optional(),createdAt:a.number().optional()}),ti=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(21),targetType:Zs,targetHash:a.string().min(1).max(64),action:Ps,actionResult:a.nativeEnum(vn),payload:Ns,decision:a.nativeEnum(bn),decisionExpiresAt:a.number(),createdAt:a.number()});Object.freeze({table:"sentinel_activities",tableSingular:"sentinel_activity",fields:{tenantId:"tenant_id",id:"id",targetType:"target_type",targetHash:"target_hash",action:"action",actionResult:"action_result",payload:"payload",decision:"decision",decisionExpiresAt:"decision_expires_at",createdAt:"created_at"},fieldKeys:["tenantId","id","targetType","targetHash","action","actionResult","payload","decision","decisionExpiresAt","createdAt"],createGuard:Ll,guard:ti,updateGuard:ti.partial()});const Vl=a.object({id:a.string().min(1).max(21),tenantId:a.string().max(21).optional(),type:a.string().min(1).max(64),payload:M.optional(),createdAt:a.number().optional()}),ni=a.object({id:a.string().min(1).max(21),tenantId:a.string().max(21),type:a.string().min(1).max(64),payload:M,createdAt:a.number()});Object.freeze({table:"service_logs",tableSingular:"service_log",fields:{id:"id",tenantId:"tenant_id",type:"type",payload:"payload",createdAt:"created_at"},fieldKeys:["id","tenantId","type","payload","createdAt"],createGuard:Vl,guard:ni,updateGuard:ni.partial()});const ql=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(21),color:Ma,branding:at,languageInfo:Ss,termsOfUseUrl:a.string().max(2048).nullable().optional(),privacyPolicyUrl:a.string().max(2048).nullable().optional(),agreeToTermsPolicy:a.nativeEnum(_n).optional(),signIn:As,signUp:Ts,socialSignIn:Os.optional(),socialSignInConnectorTargets:Cs.optional(),signInMode:a.nativeEnum(Ut).optional(),customCss:a.string().nullable().optional(),customContent:zs.optional(),customUiAssets:$s.nullable().optional(),passwordPolicy:_s.optional(),mfa:Rs.optional(),singleSignOnEnabled:a.boolean().optional()}),ai=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(21),color:Ma,branding:at,languageInfo:Ss,termsOfUseUrl:a.string().max(2048).nullable(),privacyPolicyUrl:a.string().max(2048).nullable(),agreeToTermsPolicy:a.nativeEnum(_n),signIn:As,signUp:Ts,socialSignIn:Os,socialSignInConnectorTargets:Cs,signInMode:a.nativeEnum(Ut),customCss:a.string().nullable(),customContent:zs,customUiAssets:$s.nullable(),passwordPolicy:_s,mfa:Rs,singleSignOnEnabled:a.boolean()}),Fl=Object.freeze({table:"sign_in_experiences",tableSingular:"sign_in_experience",fields:{tenantId:"tenant_id",id:"id",color:"color",branding:"branding",languageInfo:"language_info",termsOfUseUrl:"terms_of_use_url",privacyPolicyUrl:"privacy_policy_url",agreeToTermsPolicy:"agree_to_terms_policy",signIn:"sign_in",signUp:"sign_up",socialSignIn:"social_sign_in",socialSignInConnectorTargets:"social_sign_in_connector_targets",signInMode:"sign_in_mode",customCss:"custom_css",customContent:"custom_content",customUiAssets:"custom_ui_assets",passwordPolicy:"password_policy",mfa:"mfa",singleSignOnEnabled:"single_sign_on_enabled"},fieldKeys:["tenantId","id","color","branding","languageInfo","termsOfUseUrl","privacyPolicyUrl","agreeToTermsPolicy","signIn","signUp","socialSignIn","socialSignInConnectorTargets","signInMode","customCss","customContent","customUiAssets","passwordPolicy","mfa","singleSignOnEnabled"],createGuard:ql,guard:ai,updateGuard:ai.partial()}),Bl=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(128),providerName:a.string().min(1).max(128),connectorName:a.string().min(1).max(128),config:M.optional(),domains:Ls.optional(),branding:Vs.optional(),syncProfile:a.boolean().optional(),createdAt:a.number().optional()}),ri=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(128),providerName:a.string().min(1).max(128),connectorName:a.string().min(1).max(128),config:M,domains:Ls,branding:Vs,syncProfile:a.boolean(),createdAt:a.number()}),Kl=Object.freeze({table:"sso_connectors",tableSingular:"sso_connector",fields:{tenantId:"tenant_id",id:"id",providerName:"provider_name",connectorName:"connector_name",config:"config",domains:"domains",branding:"branding",syncProfile:"sync_profile",createdAt:"created_at"},fieldKeys:["tenantId","id","providerName","connectorName","config","domains","branding","syncProfile","createdAt"],createGuard:Bl,guard:ri,updateGuard:ri.partial()}),Wl=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(25),context:M.optional(),expiresAt:a.number(),consumedAt:a.number().nullable().optional(),userId:a.string().min(1).max(21),createdAt:a.number().optional(),creatorId:a.string().min(1).max(32)}),ii=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(25),context:M,expiresAt:a.number(),consumedAt:a.number().nullable(),userId:a.string().min(1).max(21),createdAt:a.number(),creatorId:a.string().min(1).max(32)});Object.freeze({table:"subject_tokens",tableSingular:"subject_token",fields:{tenantId:"tenant_id",id:"id",context:"context",expiresAt:"expires_at",consumedAt:"consumed_at",userId:"user_id",createdAt:"created_at",creatorId:"creator_id"},fieldKeys:["tenantId","id","context","expiresAt","consumedAt","userId","createdAt","creatorId"],createGuard:Wl,guard:ii,updateGuard:ii.partial()});const Jl=a.object({key:a.string().min(1).max(256),value:M.optional()}),si=a.object({key:a.string().min(1).max(256),value:M});Object.freeze({table:"systems",tableSingular:"system",fields:{key:"key",value:"value"},fieldKeys:["key","value"],createGuard:Jl,guard:si,updateGuard:si.partial()});const Hl=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(21),userId:a.string().min(1).max(12),issuer:a.string().min(1).max(256),identityId:a.string().min(1).max(128),detail:M.optional(),createdAt:a.number().optional(),ssoConnectorId:a.string().min(1).max(128)}),oi=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(21),userId:a.string().min(1).max(12),issuer:a.string().min(1).max(256),identityId:a.string().min(1).max(128),detail:M,createdAt:a.number(),ssoConnectorId:a.string().min(1).max(128)}),Bs=Object.freeze({table:"user_sso_identities",tableSingular:"user_sso_identity",fields:{tenantId:"tenant_id",id:"id",userId:"user_id",issuer:"issuer",identityId:"identity_id",detail:"detail",createdAt:"created_at",ssoConnectorId:"sso_connector_id"},fieldKeys:["tenantId","id","userId","issuer","identityId","detail","createdAt","ssoConnectorId"],createGuard:Hl,guard:oi,updateGuard:oi.partial()}),Yl=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(12),username:a.string().max(128).nullable().optional(),primaryEmail:a.string().max(128).nullable().optional(),primaryPhone:a.string().max(128).nullable().optional(),passwordEncrypted:a.string().max(128).nullable().optional(),passwordEncryptionMethod:a.nativeEnum(xn).nullable().optional(),name:a.string().max(128).nullable().optional(),avatar:a.string().max(2048).nullable().optional(),profile:Ga.optional(),applicationId:a.string().max(21).nullable().optional(),identities:Ds.optional(),customData:M.optional(),logtoConfig:M.optional(),mfaVerifications:Us.optional(),isSuspended:a.boolean().optional(),lastSignInAt:a.number().nullable().optional(),createdAt:a.number().optional(),updatedAt:a.number().optional()}),di=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(12),username:a.string().max(128).nullable(),primaryEmail:a.string().max(128).nullable(),primaryPhone:a.string().max(128).nullable(),passwordEncrypted:a.string().max(128).nullable(),passwordEncryptionMethod:a.nativeEnum(xn).nullable(),name:a.string().max(128).nullable(),avatar:a.string().max(2048).nullable(),profile:Ga,applicationId:a.string().max(21).nullable(),identities:Ds,customData:M,logtoConfig:M,mfaVerifications:Us,isSuspended:a.boolean(),lastSignInAt:a.number().nullable(),createdAt:a.number(),updatedAt:a.number()}),qa=Object.freeze({table:"users",tableSingular:"user",fields:{tenantId:"tenant_id",id:"id",username:"username",primaryEmail:"primary_email",primaryPhone:"primary_phone",passwordEncrypted:"password_encrypted",passwordEncryptionMethod:"password_encryption_method",name:"name",avatar:"avatar",profile:"profile",applicationId:"application_id",identities:"identities",customData:"custom_data",logtoConfig:"logto_config",mfaVerifications:"mfa_verifications",isSuspended:"is_suspended",lastSignInAt:"last_sign_in_at",createdAt:"created_at",updatedAt:"updated_at"},fieldKeys:["tenantId","id","username","primaryEmail","primaryPhone","passwordEncrypted","passwordEncryptionMethod","name","avatar","profile","applicationId","identities","customData","logtoConfig","mfaVerifications","isSuspended","lastSignInAt","createdAt","updatedAt"],createGuard:Yl,guard:di,updateGuard:di.partial()}),Ql=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(21),userId:a.string().min(1).max(21),roleId:a.string().min(1).max(21)}),ci=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(21),userId:a.string().min(1).max(21),roleId:a.string().min(1).max(21)});Object.freeze({table:"users_roles",tableSingular:"users_role",fields:{tenantId:"tenant_id",id:"id",userId:"user_id",roleId:"role_id"},fieldKeys:["tenantId","id","userId","roleId"],createGuard:Ql,guard:ci,updateGuard:ci.partial()});const Xl=a.object({tenantId:a.string().max(21).optional(),id:a.string().min(1).max(21),userId:a.string().min(1).max(21),createdAt:a.number().optional()}),li=a.object({tenantId:a.string().max(21),id:a.string().min(1).max(21),userId:a.string().min(1).max(21),createdAt:a.number()});Object.freeze({table:"verification_statuses",tableSingular:"verification_status",fields:{tenantId:"tenant_id",id:"id",userId:"user_id",createdAt:"created_at"},fieldKeys:["tenantId","id","userId","createdAt"],createGuard:Xl,guard:li,updateGuard:li.partial()});dl.guard.pick({id:!0,syncProfile:!0,config:!0,metadata:!0,connectorId:!0}).merge(zn).merge(a.object({type:a.nativeEnum(Xe),isDemo:a.boolean().optional(),extraInfo:a.record(a.unknown()).optional(),usage:a.number().optional()}));a.object({type:a.nativeEnum(Xe),isDemo:a.boolean().optional()}).merge(zn);var ui;(function(t){t.Event="Event",t.Identifier="Identifier",t.Profile="Profile",t.BindMfa="BindMfa",t.Mfa="Mfa",t.Verification="Verification"})(ui||(ui={}));var pi;(function(t){t.Password="Password",t.VerificationCode="VerificationCode",t.Social="Social",t.SingleSignOn="SingleSignOn"})(pi||(pi={}));var mi;(function(t){t.Create="Create",t.Update="Update",t.Submit="Submit",t.Delete="Delete",t.End="End"})(mi||(mi={}));var fi;(function(t){t.ExchangeTokenBy="ExchangeTokenBy",t.RevokeToken="RevokeToken"})(fi||(fi={}));var hi;(function(t){t.AccessToken="AccessToken",t.RefreshToken="RefreshToken",t.IdToken="IdToken",t.AuthorizationCode="AuthorizationCode",t.DeviceCode="DeviceCode",t.BackchannelAuthenticationRequest="BackchannelAuthenticationRequest"})(hi||(hi={}));var gi;(function(t){t.Unknown="Unknown",t.AuthorizationCode="AuthorizationCode",t.RefreshToken="RefreshToken",t.ClientCredentials="ClientCredentials",t.TokenExchange="TokenExchange"})(gi||(gi={}));var yi;(function(t){t.TriggerHook="TriggerHook"})(yi||(yi={}));var vi;(function(t){t.AccessToken="AccessToken",t.ClientCredentials="ClientCredentials"})(vi||(vi={}));var ha;(function(t){t.AuthorizationCode="authorization_code",t.RefreshToken="refresh_token",t.ClientCredentials="client_credentials",t.TokenExchange="urn:ietf:params:oauth:grant-type:token-exchange"})(ha||(ha={}));const eu=Object.freeze(["id","username","primaryEmail","primaryPhone","name","avatar","customData","identities","lastSignInAt","createdAt","updatedAt","profile","applicationId","isSuspended"]),Fa=qa.guard.pick(Object.fromEntries(eu.map(t=>[t,!0])));Fa.extend({hasPassword:a.boolean().optional(),ssoIdentities:a.array(Bs.guard).optional()});a.object({id:a.string(),createdAt:a.string(),type:a.nativeEnum(V),agent:a.string().optional(),remainCodes:a.number().optional()}).array();var ga;(function(t){t.Admin="#internal:admin"})(ga||(ga={}));var bi;(function(t){t.User="user",t.TenantApplication="tenantApplication"})(bi||(bi={}));var ya;(function(t){t.All="all"})(ya||(ya={}));qa.guard.pick({id:!0,avatar:!0,name:!0});const tu=Va.guard.extend({resource:La.guard}),Ks={jti:a.string(),aud:a.union([a.string(),a.string().array()]),scope:a.string().optional(),clientId:a.string().optional()},nu=a.object({...Ks,accountId:a.string(),expiresWithSession:a.boolean().optional(),grantId:a.string(),gty:a.string(),sessionUid:a.string().optional(),sid:a.string().optional(),kind:a.literal("AccessToken")}).strict(),au=a.object({...Ks,kind:a.literal("ClientCredentials")}).strict(),Ba=a.object({script:a.string(),environmentVariables:a.record(a.string()).optional(),contextSample:M.optional()});var tt;(function(t){t.AccessToken="access-token",t.ClientCredentials="client-credentials"})(tt||(tt={}));const ru=Fa.extend({hasPassword:a.boolean(),ssoIdentities:Bs.guard.pick({issuer:!0,identityId:!0,detail:!0}).array(),mfaVerificationFactors:Es,roles:Gl.guard.pick({id:!0,name:!0,description:!0}).extend({scopes:tu.pick({id:!0,name:!0,description:!0,resourceId:!0,resource:!0}).array()}).array(),organizations:Ua.guard.pick({id:!0,name:!0,description:!0}).array(),organizationRoles:a.object({organizationId:a.string(),roleId:a.string(),roleName:a.string()}).array()}),iu=a.object({type:a.literal(ha.TokenExchange),subjectTokenContext:M}),ct=Ba.extend({tokenSample:nu.partial().optional(),contextSample:a.object({user:ru.partial(),grant:iu.partial().optional()}).optional()}).strict(),kn=Ba.extend({tokenSample:au.partial().optional()}).strict();a.discriminatedUnion("tokenType",[a.object({tokenType:a.literal(tt.AccessToken),...ct.pick({environmentVariables:!0,script:!0}).shape,token:ct.required().shape.tokenSample,context:ct.required().shape.contextSample}),a.object({tokenType:a.literal(tt.ClientCredentials),...kn.pick({environmentVariables:!0,script:!0}).shape,token:kn.required().shape.tokenSample})]);const _i=Ba.pick({script:!0,environmentVariables:!0}).required({script:!0}).extend({token:M});a.discriminatedUnion("tokenType",[_i.extend({tokenType:a.literal(tt.AccessToken),context:M}),_i.extend({tokenType:a.literal(tt.ClientCredentials)})]);var xi;(function(t){t.PrivateKeys="private-keys",t.CookieKeys="cookie-keys"})(xi||(xi={}));var Vt;(function(t){t.PrivateKeys="oidc.privateKeys",t.CookieKeys="oidc.cookieKeys"})(Vt||(Vt={}));var va;(function(t){t.RSA="RSA",t.EC="EC"})(va||(va={}));const ba=a.object({id:a.string(),value:a.string(),createdAt:a.number()}),su=Object.freeze({[Vt.PrivateKeys]:ba.array(),[Vt.CookieKeys]:ba.array()});var Re;(function(t){t.AccessToken="jwt.accessToken",t.ClientCredentials="jwt.clientCredentials"})(Re||(Re={}));const ou=Object.freeze({[Re.AccessToken]:ct,[Re.ClientCredentials]:kn});a.discriminatedUnion("key",[a.object({key:a.literal(Re.AccessToken),value:ct}),a.object({key:a.literal(Re.ClientCredentials),value:kn})]);const du=a.object({signInExperienceCustomized:a.boolean(),organizationCreated:a.boolean(),developmentTenantMigrationNotification:a.object({isPaidTenant:a.boolean(),tag:a.string(),readAt:a.number().optional()}).optional(),checkedChargeNotification:a.object({token:a.boolean().optional(),apiResource:a.boolean().optional(),machineToMachineApp:a.boolean().optional(),tenantMember:a.boolean().optional()}).optional()}),cu=a.object({appId:a.string(),appSecret:a.string(),resource:a.string()});var Le;(function(t){t.AdminConsole="adminConsole",t.CloudConnection="cloudConnection",t.SessionNotFoundRedirectUrl="sessionNotFoundRedirectUrl"})(Le||(Le={}));const lu=Object.freeze({[Le.AdminConsole]:du,[Le.CloudConnection]:cu,[Le.SessionNotFoundRedirectUrl]:a.object({url:a.string()})});Object.freeze([...Object.values(Vt),...Object.values(Re),...Object.values(Le)]);Object.freeze({...su,...ou,...lu});ba.omit({value:!0}).merge(a.object({signingKeyAlgorithm:a.nativeEnum(va).optional()}));const Ws=a.string().regex(rs),Js=a.string().regex(is),Hs=a.string().min(1);a.union([a.object({email:Ws}),a.object({phone:Js})]);const Ys=a.object({email:Ws,verificationCode:Hs}),Qs=a.object({phone:Js,verificationCode:Hs});a.union([Ys,Qs]);var qt;(function(t){t.SignIn="SignIn",t.Register="Register",t.ForgotPassword="ForgotPassword"})(qt||(qt={}));const uu=a.object({type:a.nativeEnum(J),value:a.string()});a.object({type:a.enum([J.Email,J.Phone]),value:a.string()});var ki;(function(t){t.Password="Password",t.EmailVerificationCode="EmailVerificationCode",t.PhoneVerificationCode="PhoneVerificationCode",t.Social="Social",t.EnterpriseSso="EnterpriseSso",t.TOTP="Totp",t.WebAuthn="WebAuthn",t.BackupCode="BackupCode",t.NewPasswordIdentity="NewPasswordIdentity"})(ki||(ki={}));a.object({state:a.string(),redirectUri:a.string()});a.object({connectorData:M,verificationId:a.string().optional()});a.object({identifier:uu,password:a.string().min(1)});a.object({code:a.string().min(1),verificationId:a.string().optional()});a.object({code:a.string().min(1)});a.object({verificationId:a.string().optional(),linkSocialIdentity:a.boolean().optional()});a.object({interactionEvent:a.nativeEnum(qt)});a.discriminatedUnion("type",[a.object({type:a.literal(J.Username),value:a.string().regex(ss)}),a.object({type:a.literal("password"),value:a.string()}),a.object({type:a.literal(J.Email),verificationId:a.string()}),a.object({type:a.literal(J.Phone),verificationId:a.string()}),a.object({type:a.literal("social"),verificationId:a.string()})]);const pu=a.object({username:a.string().min(1),password:a.string().min(1)}),mu=a.object({email:a.string().min(1),password:a.string().min(1)}),fu=a.object({phone:a.string().min(1),password:a.string().min(1)}),hu=a.object({connectorId:a.string(),connectorData:M}),gu=a.object({connectorId:a.string(),email:a.string()}),yu=a.object({connectorId:a.string(),phone:a.string()});a.nativeEnum(qt);a.union([pu,mu,fu,Ys,Qs,hu,gu,yu]);a.object({username:a.string().regex(ss).optional(),email:a.string().regex(rs).optional(),phone:a.string().regex(is).optional(),connectorId:a.string().optional(),password:a.string().optional()});var Ii;(function(t){t.username="username",t.email="email",t.phone="phone",t.password="password",t.emailOrPhone="emailOrPhone"})(Ii||(Ii={}));const Xs=a.object({type:a.literal(V.TOTP),code:a.string()}),eo=a.object({type:a.literal(V.WebAuthn),id:a.string(),rawId:a.string(),response:a.object({clientDataJSON:a.string(),attestationObject:a.string(),authenticatorData:a.string().optional(),transports:Kt.array().optional(),publicKeyAlgorithm:a.number().optional(),publicKey:a.string().optional()}),authenticatorAttachment:a.enum(["cross-platform","platform"]).optional(),clientExtensionResults:a.object({appid:a.boolean().optional(),crepProps:a.object({rk:a.boolean().optional()}).optional(),hmacCreateSecret:a.boolean().optional()})}),vu=a.object({type:a.literal(V.BackupCode)});a.discriminatedUnion("type",[Xs,eo,vu]);const bu=Xs,_u=eo.omit({response:!0}).extend({response:a.object({clientDataJSON:a.string(),authenticatorData:a.string(),signature:a.string(),userHandle:a.string().optional()})}),xu=a.object({type:a.literal(V.BackupCode),code:a.string()});a.discriminatedUnion("type",[bu,_u,xu]);const to=a.object({type:a.literal(V.TOTP),secret:a.string()}),ku=a.object({type:a.literal(V.WebAuthn),challenge:a.string()}),no=a.object({type:a.literal(V.BackupCode),codes:a.array(a.string())});a.discriminatedUnion("type",[to,ku,no]);const Iu=to,wu=a.object({type:a.literal(V.WebAuthn),credentialId:a.string(),publicKey:a.string(),transports:Kt.array(),counter:a.number(),agent:a.string()}),ju=no;a.discriminatedUnion("type",[Iu,wu,ju]);a.object({type:a.nativeEnum(V),id:a.string()});var wi;(function(t){t.Exact="exact",t.Like="like",t.SimilarTo="similar_to",t.Posix="posix"})(wi||(wi={}));var ji;(function(t){t.Or="or",t.And="and"})(ji||(ji={}));Object.freeze({[ve.User]:"user",[ve.MachineToMachine]:"machine_to_machine"});Lt.guard.pick({id:!0,name:!0,type:!0});const Su=Lt.createGuard.omit({id:!0,createdAt:!0,secret:!0,tenantId:!0}).partial().merge(Lt.createGuard.pick({name:!0,type:!0}));Su.partial().omit({type:!0,isThirdParty:!0});const Si=a.array(a.object({resource:La.guard.pick({id:!0,name:!0,indicator:!0}),scopes:a.array(Va.guard.pick({id:!0,name:!0,description:!0}))}));a.object({organizationScopes:a.array(Rl.guard.pick({id:!0,name:!0,description:!0})),resourceScopes:Si,organizationResourceScopes:Si,userScopes:a.array(a.nativeEnum(U))});var Ti;(function(t){t.OrganizationScopes="organization-scopes",t.ResourceScopes="resource-scopes",t.OrganizationResourceScopes="organization-resource-scopes",t.UserScopes="user-scopes"})(Ti||(Ti={}));Fs.createGuard.omit({applicationId:!0,tenantId:!0,termsOfUseUrl:!0,privacyPolicyUrl:!0}).merge(a.object({termsOfUseUrl:a.string().max(2048).url().optional().nullable().or(a.literal("")),privacyPolicyUrl:a.string().max(2048).url().optional().nullable().or(a.literal(""))}));var In;(function(t){t.AlterationState="alterationState"})(In||(In={}));const Tu=Object.freeze({[In.AlterationState]:a.object({timestamp:a.number(),updatedAt:a.string().optional()})});var lt;(function(t){t.AzureStorage="AzureStorage",t.S3Storage="S3Storage",t.GoogleStorage="GoogleStorage"})(lt||(lt={}));const Fn={publicUrl:a.string().optional()},Bn=a.discriminatedUnion("provider",[a.object({provider:a.literal(lt.AzureStorage),connectionString:a.string(),container:a.string(),...Fn}),a.object({provider:a.literal(lt.S3Storage),endpoint:a.string().optional(),region:a.string().optional(),bucket:a.string(),accessKeyId:a.string(),accessSecretKey:a.string(),...Fn}),a.object({provider:a.literal(lt.GoogleStorage),projectId:a.string(),keyFilename:a.string(),bucketName:a.string(),...Fn})]);var Ve;(function(t){t.StorageProvider="storageProvider",t.ExperienceBlobsProvider="experienceBlobsProvider",t.ExperienceZipsProvider="experienceZipsProvider"})(Ve||(Ve={}));const Au=Object.freeze({[Ve.StorageProvider]:Bn,[Ve.ExperienceBlobsProvider]:Bn,[Ve.ExperienceZipsProvider]:Bn});var _a;(function(t){t.SendGrid="SendGrid"})(_a||(_a={}));const Ou=a.object({provider:a.literal(_a.SendGrid),apiKey:a.string(),templateId:a.string(),fromName:a.string(),fromEmail:a.string()}),Cu=a.discriminatedUnion("provider",[Ou]);var wn;(function(t){t.EmailServiceProvider="emailServiceProvider"})(wn||(wn={}));const zu=Object.freeze({[wn.EmailServiceProvider]:Cu});var xa;(function(t){t.Google="google",t.GitHub="github",t.Discord="discord"})(xa||(xa={}));const Eu=a.object({name:a.string(),logo:a.string(),logoDark:a.string(),provider:a.nativeEnum(xa),clientId:a.string()}).array();var jn;(function(t){t.DemoSocial="demoSocial"})(jn||(jn={}));const Ru=Object.freeze({[jn.DemoSocial]:Eu}),Ai=a.object({zoneId:a.string(),apiToken:a.string(),blockedDomains:a.string().array().optional()}),$u=a.object({accountIdentifier:a.string(),namespaceIdentifier:a.string(),keyName:a.string(),domain:a.string(),apiToken:a.string()}),Zu=a.object({apiKey:a.string(),apiEmail:a.string(),accountId:a.string(),subdomain:a.string()});var Se;(function(t){t.HostnameProvider="cloudflareHostnameProvider",t.ProtectedAppConfigProvider="cloudflareProtectedAppConfigProvider",t.ProtectedAppHostnameProvider="cloudflareProtectedAppHostnameProvider",t.CustomJwtWorkerConfig="cloudflareCustomJwtWorkerConfig"})(Se||(Se={}));const Pu=Object.freeze({[Se.HostnameProvider]:Ai,[Se.ProtectedAppConfigProvider]:$u,[Se.ProtectedAppHostnameProvider]:Ai,[Se.CustomJwtWorkerConfig]:Zu});Object.freeze([...Object.values(In),...Object.values(Ve),...Object.values(jn),...Object.values(Se),...Object.values(wn)]);Object.freeze({...Tu,...Au,...Ru,...Pu,...zu});const Nu=["image/jpeg","image/png","image/gif","image/vnd.microsoft.icon","image/x-icon","image/svg+xml","image/tiff","image/webp","image/bmp","application/zip"],Mu=a.enum(Nu);a.object({status:a.union([a.literal("ready"),a.literal("not_configured")]),allowUploadMimeTypes:a.array(Mu).optional(),maxUploadFileSize:a.number().optional()});a.object({url:a.string()});a.object({filepath:a.string(),mimetype:a.string(),originalFilename:a.string(),size:a.number()});const Gu=a.object({successCount:a.number(),requestCount:a.number()});hl.guard.extend({executionStats:Gu});a.object({responseStatus:a.number(),responseBody:a.string()});var Oi;(function(t){t.SendEmail="sendEmail",t.SendSms="sendSms",t.FetchCustomJwt="fetchCustomJwt"})(Oi||(Oi={}));a.object({appId:a.string(),organizationId:a.string()}).partial();const ut=Je({count:We(),delta:We()});Je({today:ut,last7Days:ut});Je({dauCurve:Qi(Je({date:On(),count:We()})),dau:ut,wau:ut,mau:ut});ml.guard.pick({id:!0,domain:!0,status:!0,errorMessage:!0,dnsRecords:!0});a.object({rp:a.object({name:a.string(),id:a.string().optional()}),user:a.object({id:a.string(),name:a.string(),displayName:a.string()}),challenge:a.string(),pubKeyCredParams:a.array(a.object({type:a.literal("public-key"),alg:a.number()})),timeout:a.number().optional(),excludeCredentials:a.array(a.object({type:a.literal("public-key"),id:a.string(),transports:Kt.array().optional()})).optional(),authenticatorSelection:a.object({authenticatorAttachment:a.enum(["platform","cross-platform"]).optional(),requireResidentKey:a.boolean().optional(),residentKey:a.enum(["discouraged","preferred","required"]).optional(),userVerification:a.enum(["required","preferred","discouraged"]).optional()}).optional(),attestation:a.enum(["none","indirect","direct","enterprise"]).optional(),extensions:a.object({appid:a.string().optional(),credProps:a.boolean().optional(),hmacCreateSecret:a.boolean().optional()}).optional()});a.object({challenge:a.string(),timeout:a.number().optional(),rpId:a.string().optional(),allowCredentials:a.array(a.object({type:a.literal("public-key"),id:a.string(),transports:Kt.array().optional()})).optional(),userVerification:a.enum(["required","preferred","discouraged"]).optional(),extensions:a.object({appid:a.string().optional(),credProps:a.boolean().optional(),hmacCreateSecret:a.boolean().optional()}).optional()});zl.guard.extend({scopes:a.object({id:a.string(),name:a.string()}).array(),resourceScopes:a.object({id:a.string(),name:a.string(),resource:a.object({id:a.string(),name:a.string()})}).array()});const En=a.object({id:a.string(),name:a.string()});Ua.guard.extend({organizationRoles:En.array()});Fa.extend({organizationRoles:En.array()});Lt.guard.extend({organizationRoles:En.array()});kl.guard.extend({organizationRoles:En.array()});const Du=a.object({id:a.string(),connectorName:a.string(),logo:a.string(),darkLogo:a.string().optional()});var Sn;(function(t){t.OIDC="OIDC",t.SAML="SAML",t.AZURE_AD="AzureAD",t.GOOGLE_WORKSPACE="GoogleWorkspace",t.OKTA="Okta",t.AZURE_AD_OIDC="AzureAdOidc"})(Sn||(Sn={}));var Tn;(function(t){t.OIDC="oidc",t.SAML="saml"})(Tn||(Tn={}));const Uu=a.object({providerName:a.nativeEnum(Sn),providerType:a.nativeEnum(Tn),logo:a.string(),logoDark:a.string(),description:a.string(),name:a.string()});a.array(Uu);Kl.guard.extend({providerName:a.nativeEnum(Sn)}).merge(a.object({name:a.string(),providerType:a.nativeEnum(Tn),providerLogo:a.string(),providerLogoDark:a.string(),providerConfig:a.record(a.unknown()).optional()}));var Ci;(function(t){t.Development="development",t.Production="production"})(Ci||(Ci={}));const Pe="default";var q;(function(t){t.ReadData="read:data",t.WriteData="write:data",t.DeleteData="delete:data",t.ReadMember="read:member",t.InviteMember="invite:member",t.RemoveMember="remove:member",t.UpdateMemberRole="update:member:role",t.ManageTenant="manage:tenant"})(q||(q={}));const Lu=Object.freeze(Object.values(q));Object.freeze({[q.ReadData]:"Read the tenant data.",[q.WriteData]:"Write the tenant data, including creating and updating the tenant.",[q.DeleteData]:"Delete data of the tenant.",[q.ReadMember]:"Read members of the tenant.",[q.InviteMember]:"Invite members to the tenant.",[q.RemoveMember]:"Remove members from the tenant.",[q.UpdateMemberRole]:"Update the role of a member in the tenant.",[q.ManageTenant]:"Manage the tenant settings, including name, billing, etc."});var nt;(function(t){t.Admin="admin",t.Collaborator="collaborator"})(nt||(nt={}));Object.freeze({[nt.Admin]:"Admin of the tenant, who has all permissions.",[nt.Collaborator]:"Collaborator of the tenant, who has permissions to operate the tenant data, but not the tenant settings."});Object.freeze({[nt.Admin]:Lu,[nt.Collaborator]:[q.ReadData,q.WriteData,q.DeleteData,q.ReadMember]});const Vu=qa.guard.pick({id:!0,name:!0,avatar:!0,username:!0,primaryEmail:!0,primaryPhone:!0}),qu=Lt.guard.pick({id:!0,name:!0}),Fu=Fs.guard.pick({branding:!0,displayName:!0,privacyPolicyUrl:!0,termsOfUseUrl:!0}),ao=a.object({resource:La.guard.pick({name:!0,indicator:!0}).extend({id:a.string()}),scopes:Va.guard.pick({id:!0,name:!0,description:!0}).array()}),Bu=Ua.guard.pick({id:!0,name:!0}).extend({missingResourceScopes:ao.array().optional()});a.object({application:qu.merge(Fu.partial()),user:Vu,organizations:Bu.array().optional(),missingOIDCScope:a.string().array().optional(),missingResourceScopes:ao.array().optional(),redirectUri:a.string()});var ka;(function(t){t.Personal="personal",t.Company="company"})(ka||(ka={}));var An;(function(t){t.OpenSource="open-source",t.Cloud="cloud"})(An||(An={}));var Ia;(function(t){t.Developer="developer",t.TeamLead="team-lead",t.Ceo="ceo",t.Cto="cto",t.Product="product",t.Others="others"})(Ia||(Ia={}));var wa;(function(t){t.Scale1="1",t.Scale2="2-49",t.Scale3="50-199",t.Scale4="200-999",t.Scale5="1000+"})(wa||(wa={}));var ja;(function(t){t.Passwordless="passwordless",t.Efficiency="efficiency",t.AccessControl="access-control",t.MultiTenancy="multi-tenancy",t.Enterprise="enterprise",t.Others="others"})(ja||(ja={}));var Sa;(function(t){t.NewProduct="new-product",t.ExistingProduct="existing-product",t.TargetEnterpriseReady="target-enterprise-ready"})(Sa||(Sa={}));var Ta;(function(t){t.CustomizeUiAndFlow="customize-ui-and-flow",t.Compliance="compliance",t.ExportUserDataFromLogto="export-user-data-from-logto",t.BudgetControl="budget-control",t.BringOwnAuth="bring-own-auth",t.Others="others"})(Ta||(Ta={}));const Ku=a.object({project:a.nativeEnum(ka).optional(),deploymentType:a.nativeEnum(An).optional().default(An.Cloud),titles:a.array(a.nativeEnum(Ia)).optional(),companyName:a.string().optional(),companySize:a.nativeEnum(wa).optional(),reasons:a.array(a.nativeEnum(ja)).optional(),stage:a.nativeEnum(Sa).optional(),additionalFeatures:a.array(a.nativeEnum(Ta)).optional()});a.object({questionnaire:Ku.optional(),isOnboardingDone:a.boolean().optional()});Fl.guard.extend({socialConnectors:zn.omit({description:!0,configTemplate:!0,formItems:!0,readme:!0,customData:!0}).array(),ssoConnectors:Du.array(),forgotPassword:a.object({phone:a.boolean(),email:a.boolean()}),isDevelopmentTenant:a.boolean(),googleOneTap:Gs.extend({clientId:a.string(),connectorId:a.string()}).optional()});Je({subjectToken:On(),expiresIn:We()});var zi;(function(t){t.CreateTenant="create:tenant",t.ManageTenantSelf="manage:tenant:self",t.SendSms="send:sms",t.SendEmail="send:email",t.FetchCustomJwt="fetch:custom:jwt",t.ManageAffiliate="manage:affiliate",t.CreateAffiliate="create:affiliate"})(zi||(zi={}));const Ei="management-api",Wu="management-api-all";Object.freeze({resource:{tenantId:Pe,id:Ei,indicator:`https://${Pe}.logto.app/api`,name:"Logto Management API"},scopes:[{tenantId:Pe,id:Wu,name:ya.All,description:"Default scope for Management API, allows all permissions.",resourceId:Ei}],role:{tenantId:Pe,id:"admin-role",name:ga.Admin,description:`Internal admin role for Logto tenant ${Pe}.`,type:ve.MachineToMachine}});const Ri="#6139F6",Ju=(t,e)=>Object.freeze({tenantId:t,id:"default",color:{primaryColor:Ri,isDarkModeEnabled:!1,darkPrimaryColor:Sd(Ri)},branding:{logoUrl:"https://logto.io/logo.svg",darkLogoUrl:"https://logto.io/logo-dark.svg"},languageInfo:{autoDetect:!0,fallbackLanguage:"en"},termsOfUseUrl:null,privacyPolicyUrl:null,signUp:{identifiers:[J.Username],password:!0,verify:e},signIn:{methods:[{identifier:J.Username,password:!0,verificationCode:!1,isPasswordPrimary:!0}]},socialSignInConnectorTargets:[],signInMode:Ut.SignInAndRegister,customCss:null,customContent:{},customUiAssets:null,passwordPolicy:{},mfa:{factors:[],policy:fn.UserControlled}});Ju(Pe,!1);const Hu=Object.freeze({oneMinute:60,oneHour:3600,oneDay:1440*60});Object.freeze({idTokenTtl:Hu.oneHour,refreshTokenTtlInDays:14,rotateRefreshToken:!0});var Ge;(function(t){t.InteractionMode="interaction_mode",t.FirstScreen="first_screen",t.DirectSignIn="direct_sign_in",t.OrganizationId="organization_id"})(Ge||(Ge={}));var Aa;(function(t){t.SignIn="signIn",t.SignUp="signUp"})(Aa||(Aa={}));var Oa;(function(t){t.SignIn="signIn",t.Register="register"})(Oa||(Oa={}));a.object({[Ge.InteractionMode]:a.nativeEnum(Aa),[Ge.FirstScreen]:a.nativeEnum(Oa),[Ge.DirectSignIn]:a.string(),[Ge.OrganizationId]:a.string()}).partial();var $i;(function(t){t.Free="free",t.Hobby="hobby",t.Pro="pro",t.GrandfatheredPro="grandfathered-pro",t.Development="dev",t.Admin="admin"})($i||($i={}));const Wt=new io({baseUrl:window.location.origin});window.addEventListener("load",()=>{const t=document.querySelector("form");t==null||t.addEventListener("submit",async e=>{var n,i;e.preventDefault(),Ka(!0),oo();try{const r=new FormData(t),s=(n=r.get("username"))==null?void 0:n.toString(),o=(i=r.get("password"))==null?void 0:i.toString();if(!s||!o)throw new Error("Username and password are required.");await Wt.experience.initInteraction({interactionEvent:qt.SignIn});const{verificationId:d}=await Wt.experience.createPasswordVerification({identifier:{type:J.Username,value:s},password:o});await Wt.experience.identifyUser({verificationId:d});const{redirectTo:c}=await Wt.experience.submitInteraction();window.location.replace(c)}catch(r){so(r),Ka(!1)}})});
